{"version":3,"file":"index.js","mappings":"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UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC,oHAAoH,iDAAiD;WACrK;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA,8CAA8C;;WAE9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iCAAiC,mCAAmC;WACpE;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEnDA;UACA;UACA;UACA,2FAA2F,+CAA+C;UAC1I","sources":["webpack://qsm/./src/component/icon.js","webpack://qsm/./src/edit.js","webpack://qsm/./src/helper.js","webpack://qsm/./src/index.js","webpack://qsm/./src/editor.scss","webpack://qsm/./src/style.scss","webpack://qsm/external window [\"wp\",\"apiFetch\"]","webpack://qsm/external window [\"wp\",\"blockEditor\"]","webpack://qsm/external window [\"wp\",\"blocks\"]","webpack://qsm/external window [\"wp\",\"components\"]","webpack://qsm/external window [\"wp\",\"data\"]","webpack://qsm/external window [\"wp\",\"editor\"]","webpack://qsm/external window [\"wp\",\"element\"]","webpack://qsm/external window [\"wp\",\"htmlEntities\"]","webpack://qsm/external window [\"wp\",\"i18n\"]","webpack://qsm/external window [\"wp\",\"notices\"]","webpack://qsm/webpack/bootstrap","webpack://qsm/webpack/runtime/chunk loaded","webpack://qsm/webpack/runtime/compat get default export","webpack://qsm/webpack/runtime/define property getters","webpack://qsm/webpack/runtime/hasOwnProperty shorthand","webpack://qsm/webpack/runtime/make namespace object","webpack://qsm/webpack/runtime/jsonp chunk loading","webpack://qsm/webpack/before-startup","webpack://qsm/webpack/startup","webpack://qsm/webpack/after-startup"],"sourcesContent":["import { Icon } from '@wordpress/components';\r\n//QSM Quiz Block\r\nexport const qsmBlockIcon = () => (\r\n\t<Icon\r\n\t\ticon={ () => (\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<rect width=\"24\" height=\"24\" rx=\"3\" fill=\"black\"/>\r\n\t\t<path d=\"M17.8146 17.8349C19.3188 16.3426 20.25 14.2793 20.25 12C20.2485 7.44425 16.5267 3.75 11.9348 3.75C7.34282 3.75 3.62109 7.44425 3.62109 12C3.62109 16.5558 7.34282 20.25 11.9348 20.25H18.9988C19.4682 20.25 19.7074 19.7112 19.3813 19.3885L17.8146 17.8334V17.8349ZM11.8753 17.5195C8.72666 17.5195 6.17388 15.0737 6.17388 12.0569C6.17388 9.04022 8.72666 6.59442 11.8753 6.59442C15.024 6.59442 17.5768 9.04022 17.5768 12.0569C17.5768 15.0737 15.024 17.5195 11.8753 17.5195Z\" fill=\"white\"/>\r\n\t\t</svg>\r\n\t\t) }\r\n\t/>\r\n);\r\n\r\n//Question Block\r\nexport const questionBlockIcon = () => (\r\n\t<Icon\r\n\t\ticon={ () => (\r\n\t\t\t<svg width=\"25\" height=\"25\" viewBox=\"0 0 25 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<rect x=\"0.102539\" y=\"0.101562\" width=\"24\" height=\"24\" rx=\"4.68852\" fill=\"#ADADAD\"/>\r\n\t\t\t<path d=\"M17.0475 17.191C17.2367 17.3683 17.3313 17.5752 17.3313 17.8117C17.3313 18.06 17.2426 18.2787 17.0653 18.4679C16.8879 18.6453 16.6751 18.734 16.4268 18.734C16.1667 18.734 15.9538 18.6512 15.7883 18.4857L14.937 17.6521C13.8492 18.4088 12.5959 18.7872 11.177 18.7872C10.0301 18.7872 9.01325 18.533 8.12646 18.0245C7.2515 17.5161 6.57163 16.8126 6.08685 15.914C5.6139 15.0035 5.37742 13.9631 5.37742 12.7925C5.37742 11.5273 5.64937 10.41 6.19327 9.44044C6.74898 8.45907 7.48206 7.70234 8.3925 7.17027C9.31475 6.6382 10.308 6.37216 11.3721 6.37216C12.4481 6.37216 13.459 6.64411 14.4049 7.18801C15.3508 7.72008 16.1075 8.46498 16.6751 9.42271C17.2426 10.3804 17.5264 11.4505 17.5264 12.6329C17.5264 14.0636 17.1007 15.3287 16.2494 16.4283L17.0475 17.191ZM11.177 17.1732C12.0874 17.1732 12.9269 16.9249 13.6955 16.4283L12.5604 15.311C12.3949 15.1454 12.3121 14.9799 12.3121 14.8144C12.3121 14.6015 12.4244 14.3887 12.6491 14.1759C12.8855 13.9631 13.122 13.8566 13.3585 13.8566C13.5122 13.8566 13.6364 13.9039 13.7309 13.9985L14.9724 15.1868C15.4927 14.4183 15.7528 13.5492 15.7528 12.5797C15.7528 11.7284 15.5518 10.9539 15.1498 10.2563C14.7596 9.54686 14.2335 8.99114 13.5713 8.58913C12.9092 8.18712 12.1998 7.98611 11.443 7.98611C10.6981 7.98611 9.99462 8.18121 9.33249 8.57139C8.67036 8.94975 8.13828 9.49956 7.73627 10.2208C7.34609 10.9421 7.15099 11.7756 7.15099 12.7216C7.15099 13.6083 7.32244 14.3887 7.66533 15.0627C8.02005 15.7366 8.49891 16.2569 9.10192 16.6234C9.71676 16.99 10.4085 17.1732 11.177 17.1732Z\" fill=\"white\"/>\r\n\t\t\t</svg>\r\n\t\t) }\r\n\t/>\r\n);\r\n\r\n//Answer option Block\r\nexport const answerOptionBlockIcon = () => (\r\n\t<Icon\r\n\t\ticon={ () => (\r\n\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<rect width=\"24\" height=\"24\" rx=\"4.21657\" fill=\"#ADADAD\"/>\r\n\t\t\t<path d=\"M8.96182 17.2773H7.33619L10.9889 7.12707H12.7583L16.411 17.2773H14.7853L11.9157 8.97077H11.8364L8.96182 17.2773ZM9.23441 13.3025H14.5078V14.5911H9.23441V13.3025Z\" fill=\"white\"/>\r\n\t\t\t</svg>\r\n\t\t) }\r\n\t/>\r\n);","import { __ } from '@wordpress/i18n';\r\nimport { useState, useEffect } from '@wordpress/element';\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport {\r\n\tInspectorControls,\r\n\tInnerBlocks,\r\n\tuseBlockProps,\r\n\tstore as blockEditorStore,\r\n\tuseInnerBlocksProps,\r\n} from '@wordpress/block-editor';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\nimport { store as editorStore } from '@wordpress/editor';\r\nimport {\r\n\tPanelBody,\r\n\tButton,\r\n\tTextControl,\r\n\tToggleControl,\r\n\tSelectControl,\r\n\tPlaceholder,\r\n\tExternalLink,\r\n\t__experimentalVStack as VStack,\r\n} from '@wordpress/components';\r\nimport './editor.scss';\r\nimport { qsmIsEmpty, qsmFormData, qsmUniqid, qsmValueOrDefault, qsmDecodeHtml } from './helper';\r\nimport { qsmBlockIcon } from './component/icon';\r\nexport default function Edit( props ) {\r\n\t//check for QSM initialize data\r\n\tif ( 'undefined' === typeof qsmBlockData ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst { className, attributes, setAttributes, isSelected, clientId } = props;\r\n\tconst { createNotice } = useDispatch( noticesStore );\r\n\t//quiz attribute\r\n\tconst globalQuizsetting = qsmBlockData.globalQuizsetting;\r\n\tconst {\r\n\t\tquizID,\r\n\t\tpostID,\r\n\t\tquizAttr = globalQuizsetting\r\n\t} = attributes;\r\n\r\n\r\n\t//quiz list\r\n\tconst [ quizList, setQuizList ] = useState( qsmBlockData.QSMQuizList );\r\n\t//quiz list\r\n\tconst [ quizMessage, setQuizMessage ] = useState( {\r\n\t\terror: false,\r\n\t\tmsg: ''\r\n\t} );\r\n\t//whether creating a new quiz\r\n\tconst [ createQuiz, setCreateQuiz ] = useState( false );\r\n\t//whether saving quiz\r\n\tconst [ saveQuiz, setSaveQuiz ] = useState( false );\r\n\t//whether to show advance option\r\n\tconst [ showAdvanceOption, setShowAdvanceOption ] = useState( false );\r\n\t//Quiz template on set Quiz ID\r\n\tconst [ quizTemplate, setQuizTemplate ] = useState( [] );\r\n\t//Quiz Options to create attributes label, description and layout\r\n\tconst quizOptions = qsmBlockData.quizOptions;\r\n\r\n\t//check if page is saving\r\n\tconst isSavingPage = useSelect( ( select ) => {\r\n\t\tconst { isAutosavingPost, isSavingPost } = select( editorStore );\r\n\t\treturn isSavingPost() && ! isAutosavingPost();\r\n\t}, [] );\r\n\r\n\tconst { getBlock } = useSelect( blockEditorStore );\r\n\r\n\t/**Initialize block from server */\r\n\tuseEffect( () => {\r\n\t\tlet shouldSetQSMAttr = true;\r\n\t\tif ( shouldSetQSMAttr ) {\r\n\t\t\t//add upgrade modal\r\n\t\t\tif ( '0' == qsmBlockData.is_pro_activated ) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\taddUpgradePopupHtml();\r\n\t\t\t\t}, 100);\r\n\t\t\t}\r\n\t\t\t//initialize QSM block\r\n\t\t\tif ( ! qsmIsEmpty( quizID ) && 0 < quizID ) {\r\n\t\t\t\t//Check if quiz exists\r\n\t\t\t\tlet hasQuiz = false;\r\n\t\t\t\tquizList.forEach( quizElement => {\r\n\t\t\t\t\tif ( quizID == quizElement.value ) {\r\n\t\t\t\t\t\thasQuiz = true;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif ( hasQuiz ) {\r\n\t\t\t\t\tinitializeQuizAttributes( quizID );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetAttributes({\r\n\t\t\t\t\t\tquizID : undefined\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetQuizMessage( {\r\n\t\t\t\t\t\terror: true,\r\n\t\t\t\t\t\tmsg: __( 'Quiz not found. Please select an existing quiz or create a new one.', 'quiz-master-next' )\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//cleanup\r\n\t\treturn () => {\r\n\t\t\tshouldSetQSMAttr = false;\r\n\t\t};\r\n\t\t\r\n\t}, [ ] );\r\n\r\n\t/**Add modal advanced-question-type */\r\n\tconst addUpgradePopupHtml = () => {\r\n\t\tlet modalEl = document.getElementById('modal-advanced-question-type');\r\n\t\tif ( qsmIsEmpty( modalEl ) ) {\r\n\t\t\tapiFetch( {\r\n\t\t\t\tpath: '/quiz-survey-master/v1/quiz/advance-ques-type-upgrade-popup',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t} ).then( ( res ) => {\r\n\t\t\t\tlet bodyEl = document.getElementById('wpbody-content');\r\n\t\t\t\tif ( ! qsmIsEmpty( bodyEl ) && 'success' == res.status ) { \r\n\t\t\t\t\tbodyEl.insertAdjacentHTML('afterbegin', res.result );\r\n\t\t\t\t}\r\n\t\t\t} ).catch(\r\n\t\t\t\t( error ) => {\r\n\t\t\t\t\tconsole.log( 'error',error );\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\t/**Initialize quiz attributes: first time render only */\r\n\tconst initializeQuizAttributes = ( quiz_id ) => {\r\n\t\tif ( ! qsmIsEmpty( quiz_id ) && 0 < quiz_id  ) {\r\n\t\t\tapiFetch( {\r\n\t\t\t\tpath: '/quiz-survey-master/v1/quiz/structure',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tdata: { quizID: quiz_id },\r\n\t\t\t} ).then( ( res ) => {\r\n\t\t\t\t\r\n\t\t\t\tif ( 'success' == res.status ) {\r\n\t\t\t\t\tsetQuizMessage( {\r\n\t\t\t\t\t\terror: false,\r\n\t\t\t\t\t\tmsg: ''\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tlet result = res.result;\r\n\t\t\t\t\tsetAttributes( { \r\n\t\t\t\t\t\tquizID: parseInt( quiz_id ),\r\n\t\t\t\t\t\tpostID: result.post_id,\r\n\t\t\t\t\t\tquizAttr: { ...quizAttr, ...result }\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tif ( ! qsmIsEmpty( result.qpages ) ) {\r\n\t\t\t\t\t\tlet quizTemp = [];\r\n\t\t\t\t\t\tresult.qpages.forEach( page  => {\r\n\t\t\t\t\t\t\tlet questions = [];\r\n\t\t\t\t\t\t\tif ( ! qsmIsEmpty( page.question_arr ) ) {\r\n\t\t\t\t\t\t\t\tpage.question_arr.forEach( question => {\r\n\t\t\t\t\t\t\t\t\tif ( ! qsmIsEmpty( question ) ) {\r\n\t\t\t\t\t\t\t\t\t\tlet answers = [];\r\n\t\t\t\t\t\t\t\t\t\t//answers options blocks\r\n\t\t\t\t\t\t\t\t\t\tif ( ! qsmIsEmpty( question.answers ) && 0 < question.answers.length ) {\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tquestion.answers.forEach( ( answer, aIndex ) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tanswers.push(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'qsm/quiz-answer-option',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionID:aIndex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent:answer[0],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpoints:answer[1],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisCorrect:answer[2],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcaption: qsmValueOrDefault( answer[3] )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t//question blocks\r\n\t\t\t\t\t\t\t\t\t\tquestions.push(\r\n\t\t\t\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t\t\t\t'qsm/quiz-question',\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tquestionID: question.question_id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: question.question_type_new,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tanswerEditor: question.settings.answerEditor,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: question.settings.question_title,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdescription: question.question_name,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: question.settings.required,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thint:question.hints,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tanswers: question.answers,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcorrectAnswerInfo:question.question_answer_info,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcategory:question.category,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmulticategories:question.multicategories,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcommentBox: question.comments,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmatchAnswer: question.settings.matchAnswer,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfeatureImageID: question.settings.featureImageID,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfeatureImageSrc: question.settings.featureImageSrc,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsettings: question.settings\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tanswers\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tquizTemp.push(\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t'qsm/quiz-page',\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tpageID:page.id,\r\n\t\t\t\t\t\t\t\t\t\tpageKey: page.pagekey,\r\n\t\t\t\t\t\t\t\t\t\thidePrevBtn: page.hide_prevbtn,\r\n\t\t\t\t\t\t\t\t\t\tquizID: page.quizID\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tquestions\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetQuizTemplate( quizTemp );\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log( \"error \"+ res.msg );\r\n\t\t\t\t}\r\n\t\t\t} ).catch(\r\n\t\t\t\t( error ) => {\r\n\t\t\t\t\tconsole.log( 'error',error );\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t * @returns Placeholder for quiz in case quiz ID is not set\r\n\t */\r\n\tconst quizPlaceholder = ( ) => {\r\n\t\treturn (\r\n\t\t\t<Placeholder\r\n\t\t\t\tclassName='qsm-placeholder-wrapper'\r\n\t\t\t\ticon={ qsmBlockIcon }\r\n\t\t\t\tlabel={ __( 'Quiz And Survey Master', 'quiz-master-next' ) }\r\n\t\t\t\tinstructions={ __( 'Easily and quickly add quizzes and surveys inside the block editor.', 'quiz-master-next' ) }\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t{ ( ! qsmIsEmpty( quizList ) && 0 < quizList.length )&&  \r\n\t\t\t\t\t<div className='qsm-placeholder-select-create-quiz'>\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\tlabel={ __( '', 'quiz-master-next' ) }\r\n\t\t\t\t\t\tvalue={ quizID }\r\n\t\t\t\t\t\toptions={ quizList }\r\n\t\t\t\t\t\tonChange={ ( quizID ) =>\r\n\t\t\t\t\t\t\tinitializeQuizAttributes( quizID )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdisabled={ createQuiz }\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span>{ __( 'OR', 'quiz-master-next' ) }</span>\r\n\t\t\t\t\t<Button \r\n\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\tonClick={ () => setCreateQuiz( ! createQuiz )\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t{ __( 'Add New', 'quiz-master-next' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{ ( qsmIsEmpty( quizList ) || createQuiz ) &&\r\n\t\t\t\t\t<VStack \r\n\t\t\t\t\tspacing='3'\r\n\t\t\t\t\tclassName='qsm-placeholder-quiz-create-form'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\tlabel={ __( 'Quiz Name *', 'quiz-master-next' ) }\r\n\t\t\t\t\t\t\thelp={ __( 'Enter a name for this Quiz', 'quiz-master-next' ) }\r\n\t\t\t\t\t\t\tvalue={ quizAttr?.quiz_name || '' }\r\n\t\t\t\t\t\t\tonChange={ ( val ) => setQuizAttributes( val, 'quiz_name') }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\tonClick={ () => setShowAdvanceOption( ! showAdvanceOption )\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Advance options', 'quiz-master-next' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{ showAdvanceOption && (<>\r\n\t\t\t\t\t\t\t{/**Form Type */}\r\n\t\t\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t\t\tlabel={ quizOptions?.form_type?.label }\r\n\t\t\t\t\t\t\t\tvalue={ quizAttr?.form_type }\r\n\t\t\t\t\t\t\t\toptions={ quizOptions?.form_type?.options }\r\n\t\t\t\t\t\t\t\tonChange={ ( val ) => setQuizAttributes( val, 'form_type') }\r\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{/**Grading Type */}\r\n\t\t\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t\t\tlabel={ quizOptions?.system?.label }\r\n\t\t\t\t\t\t\t\tvalue={ quizAttr?.system }\r\n\t\t\t\t\t\t\t\toptions={ quizOptions?.system?.options }\r\n\t\t\t\t\t\t\t\tonChange={ ( val ) => setQuizAttributes( val, 'system') }\r\n\t\t\t\t\t\t\t\thelp={ quizOptions?.system?.help }\r\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t[ \r\n\t\t\t\t\t\t\t\t\t'timer_limit', \r\n\t\t\t\t\t\t\t\t\t'pagination',\r\n\t\t\t\t\t\t\t\t].map( ( item ) => (\r\n\t\t\t\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\t\t\t\tkey={ 'quiz-create-text-'+item }\r\n\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\tlabel={ quizOptions?.[item]?.label }\r\n\t\t\t\t\t\t\t\t\t\thelp={ quizOptions?.[item]?.help }\r\n\t\t\t\t\t\t\t\t\t\tvalue={ qsmIsEmpty( quizAttr[item] ) ? 0 : quizAttr[item] }\r\n\t\t\t\t\t\t\t\t\t\tonChange={ ( val ) => setQuizAttributes( val, item) }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t[ \r\n\t\t\t\t\t\t\t\t\t'enable_contact_form', \r\n\t\t\t\t\t\t\t\t\t'enable_pagination_quiz', \r\n\t\t\t\t\t\t\t\t\t'show_question_featured_image_in_result',\r\n\t\t\t\t\t\t\t\t\t'progress_bar',\r\n\t\t\t\t\t\t\t\t\t'require_log_in',\r\n\t\t\t\t\t\t\t\t\t'disable_first_page',\r\n\t\t\t\t\t\t\t\t\t'comment_section'\r\n\t\t\t\t\t\t\t\t].map( ( item ) => (\r\n\t\t\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\t\t\tkey={ 'quiz-create-toggle-'+item }\r\n\t\t\t\t\t\t\t\t\tlabel={ quizOptions?.[item]?.label }\r\n\t\t\t\t\t\t\t\t\thelp={ quizOptions?.[item]?.help }\r\n\t\t\t\t\t\t\t\t\tchecked={ ! qsmIsEmpty( quizAttr[item] ) && '1' == quizAttr[item]  }\r\n\t\t\t\t\t\t\t\t\tonChange={ () => setQuizAttributes( ( ( ! qsmIsEmpty( quizAttr[item] ) && '1' == quizAttr[item] ) ? 0 : 1 ), item ) }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) )\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\tdisabled={ saveQuiz || qsmIsEmpty( quizAttr.quiz_name ) }\r\n\t\t\t\t\t\t\tonClick={ () => createNewQuiz()\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Create Quiz', 'quiz-master-next' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</VStack>\r\n\t                }\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tquizMessage.error && (\r\n\t\t\t\t\t\t\t<p className='qsm-error-text'>{ quizMessage.msg }</p>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t</Placeholder>\r\n\t\t);\r\n\t};\r\n\r\n\t/**\r\n\t * Set attribute value\r\n\t * @param { any } value attribute value to set\r\n\t * @param { string } attr_name attribute name\r\n\t */\r\n\tconst setQuizAttributes = ( value , attr_name ) => {\r\n\t\tlet newAttr = quizAttr;\r\n\t\tnewAttr[ attr_name ] = value;\r\n\t\tsetAttributes( { quizAttr: { ...newAttr } } );\r\n\t}\r\n\r\n\t/**\r\n\t * Prepare quiz data e.g. quiz details, questions, answers etc to save \r\n\t * @returns quiz data\r\n\t */\r\n\tconst getQuizDataToSave = ( ) => {\t\r\n\t\tlet blocks = getBlock( clientId ); \r\n\t\tif ( qsmIsEmpty( blocks ) ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tblocks = blocks.innerBlocks;\r\n\t\tlet quizDataToSave = {\r\n\t\t\tquiz_id: quizAttr.quiz_id,\r\n\t\t\tpost_id: quizAttr.post_id,\r\n\t\t\tquiz:{},\r\n\t\t\tpages:[],\r\n\t\t\tqpages:[],\r\n\t\t\tquestions:[]\r\n\t\t};\r\n\t\tlet pageSNo = 0;\r\n\t\t//loop through inner blocks\r\n\t\tblocks.forEach( (block) => {\r\n\t\t\tif ( 'qsm/quiz-page' === block.name ) {\r\n\t\t\t\tlet pageID = block.attributes.pageID;\r\n\t\t\t\tlet questions = [];\r\n\t\t\t\tif ( ! qsmIsEmpty( block.innerBlocks ) && 0 <  block.innerBlocks.length ) { \r\n\t\t\t\t\tlet questionBlocks = block.innerBlocks;\r\n\t\t\t\t\t//Question Blocks\r\n\t\t\t\t\tquestionBlocks.forEach( ( questionBlock ) => {\r\n\t\t\t\t\t\tif ( 'qsm/quiz-question' !== questionBlock.name ) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet questionAttr = questionBlock.attributes;\r\n\t\t\t\t\t\tlet answerEditor = qsmValueOrDefault( questionAttr?.answerEditor, 'text' );\r\n\t\t\t\t\t\tlet answers = [];\r\n\t\t\t\t\t\t//Answer option blocks\r\n\t\t\t\t\t\tif ( ! qsmIsEmpty( questionBlock.innerBlocks ) && 0 <  questionBlock.innerBlocks.length ) { \r\n\t\t\t\t\t\t\tlet answerOptionBlocks = questionBlock.innerBlocks;\r\n\t\t\t\t\t\t\tanswerOptionBlocks.forEach( ( answerOptionBlock ) => {\r\n\t\t\t\t\t\t\t\tif ( 'qsm/quiz-answer-option' !== answerOptionBlock.name ) {\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlet answerAttr = answerOptionBlock.attributes;\r\n\t\t\t\t\t\t\t\tlet answerContent = qsmValueOrDefault( answerAttr?.content );\r\n\t\t\t\t\t\t\t\t//if rich text\r\n\t\t\t\t\t\t\t\tif ( ! qsmIsEmpty( questionAttr?.answerEditor ) && 'rich' === questionAttr.answerEditor ) {\r\n\t\t\t\t\t\t\t\t\tanswerContent = qsmDecodeHtml( decodeEntities( answerContent ) );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlet ans = [\r\n\t\t\t\t\t\t\t\t\tanswerContent,\r\n\t\t\t\t\t\t\t\t\tqsmValueOrDefault( answerAttr?.points ),\r\n\t\t\t\t\t\t\t\t\tqsmValueOrDefault( answerAttr?.isCorrect ),\r\n\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t//answer options are image type\r\n\t\t\t\t\t\t\t\tif ( 'image' === answerEditor && ! qsmIsEmpty( answerAttr?.caption ) ) {\r\n\t\t\t\t\t\t\t\t\tans.push( answerAttr?.caption );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tanswers.push( ans );\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//questions Data\r\n\t\t\t\t\t\tquestions.push( questionAttr.questionID );\r\n\t\t\t\t\t\t//update question only if changes occured\r\n\t\t\t\t\t\tif ( questionAttr.isChanged ) {\r\n\t\t\t\t\t\t\tquizDataToSave.questions.push({\r\n\t\t\t\t\t\t\t\t\"id\": questionAttr.questionID,\r\n\t\t\t\t\t\t\t\t\"quizID\": quizAttr.quiz_id,\r\n\t\t\t\t\t\t\t\t\"postID\": quizAttr.post_id,\r\n\t\t\t\t\t\t\t\t\"answerEditor\": answerEditor,\r\n\t\t\t\t\t\t\t\t\"type\": qsmValueOrDefault( questionAttr?.type , '0' ),\r\n\t\t\t\t\t\t\t\t\"name\": qsmDecodeHtml( qsmValueOrDefault( questionAttr?.description ) ),\r\n\t\t\t\t\t\t\t\t\"question_title\": qsmValueOrDefault( questionAttr?.title ),\r\n\t\t\t\t\t\t\t\t\"answerInfo\": qsmDecodeHtml( qsmValueOrDefault( questionAttr?.correctAnswerInfo ) ),\r\n\t\t\t\t\t\t\t\t\"comments\": qsmValueOrDefault( questionAttr?.commentBox, '1' ),\r\n\t\t\t\t\t\t\t\t\"hint\": qsmValueOrDefault( questionAttr?.hint ),\r\n\t\t\t\t\t\t\t\t\"category\": qsmValueOrDefault( questionAttr?.category ),\r\n\t\t\t\t\t\t\t\t\"multicategories\": qsmValueOrDefault( questionAttr?.multicategories, [] ),\r\n\t\t\t\t\t\t\t\t\"required\": qsmValueOrDefault( questionAttr?.required, 0 ),\r\n\t\t\t\t\t\t\t\t\"answers\": answers,\r\n\t\t\t\t\t\t\t\t\"featureImageID\":qsmValueOrDefault( questionAttr?.featureImageID ),\r\n\t\t\t\t\t\t\t\t\"featureImageSrc\":qsmValueOrDefault( questionAttr?.featureImageSrc ),\r\n\t\t\t\t\t\t\t\t\"page\": pageSNo,\r\n\t\t\t\t\t\t\t\t\"other_settings\": {\r\n\t\t\t\t\t\t\t\t\t\"required\": qsmValueOrDefault( questionAttr?.required, 0 )\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// pages[0][]: 2512\r\n\t\t\t\t// \tqpages[0][id]: 2\r\n\t\t\t\t// \tqpages[0][quizID]: 76\r\n\t\t\t\t// \tqpages[0][pagekey]: Ipj90nNT\r\n\t\t\t\t// \tqpages[0][hide_prevbtn]: 0\r\n\t\t\t\t// \tqpages[0][questions][]: 2512\r\n\t\t\t\t// \tpost_id: 111\r\n\t\t\t\t//page data\r\n\t\t\t\tquizDataToSave.pages.push( questions );\r\n\t\t\t\tquizDataToSave.qpages.push( {\r\n\t\t\t\t\t'id': pageID,\r\n\t\t\t\t\t'quizID': quizAttr.quiz_id,\r\n\t\t\t\t\t'pagekey': block.attributes.pageKey,\r\n\t\t\t\t\t'hide_prevbtn':block.attributes.hidePrevBtn,\r\n\t\t\t\t\t'questions': questions\r\n\t\t\t\t} );\r\n\t\t\t\tpageSNo++;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//Quiz details\r\n\t\tquizDataToSave.quiz =  {   \r\n\t\t\t'quiz_name': quizAttr.quiz_name,\r\n\t\t\t'quiz_id': quizAttr.quiz_id,\r\n\t\t\t'post_id': quizAttr.post_id,\r\n\t\t};\r\n\t\tif ( showAdvanceOption ) {\r\n\t\t\t[\r\n\t\t\t'form_type', \r\n\t\t\t'system', \r\n\t\t\t'timer_limit', \r\n\t\t\t'pagination',\r\n\t\t\t'enable_contact_form', \r\n\t\t\t'enable_pagination_quiz', \r\n\t\t\t'show_question_featured_image_in_result',\r\n\t\t\t'progress_bar',\r\n\t\t\t'require_log_in',\r\n\t\t\t'disable_first_page',\r\n\t\t\t'comment_section'\r\n\t\t\t].forEach( ( item ) => { \r\n\t\t\t\tif ( 'undefined' !== typeof quizAttr[ item ] && null !== quizAttr[ item ] ) {\r\n\t\t\t\t\tquizDataToSave.quiz[ item ] = quizAttr[ item ];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn quizDataToSave;\r\n\t}\r\n\r\n\t//saving Quiz on save page\r\n\tuseEffect( () => {\r\n\t\tif ( isSavingPage ) {\r\n\t\t\tlet quizData =  getQuizDataToSave();\r\n\t\t\t//save quiz status\r\n\t\t\tsetSaveQuiz( true );\r\n\t\t\t\r\n\t\t\tquizData = qsmFormData({\r\n\t\t\t\t'save_entire_quiz': '1',\r\n\t\t\t\t'quizData': JSON.stringify( quizData ),\r\n\t\t\t\t'qsm_block_quiz_nonce' : qsmBlockData.nonce,\r\n\t\t\t\t\"nonce\": qsmBlockData.saveNonce,//save pages nonce\r\n\t\t\t});\r\n\r\n\t\t\t//AJAX call\r\n\t\t\tapiFetch( {\r\n\t\t\t\tpath: '/quiz-survey-master/v1/quiz/save_quiz',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: quizData\r\n\t\t\t} ).then( ( res ) => {\r\n\t\t\t\t//create notice\r\n\t\t\t\tcreateNotice( res.status, res.msg, {\r\n\t\t\t\t\tisDismissible: true,\r\n\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t} );\r\n\t\t\t} ).catch(\r\n\t\t\t\t( error ) => {\r\n\t\t\t\t\tconsole.log( 'error',error );\r\n\t\t\t\t\tcreateNotice( 'error', error.message, {\r\n\t\t\t\t\t\tisDismissible: true,\r\n\t\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}, [ isSavingPage ] );\r\n\r\n\t/**\r\n\t * Create new quiz and set quiz ID\r\n\t * \r\n\t */\r\n\tconst createNewQuiz = () => {\r\n\t\tif ( qsmIsEmpty( quizAttr.quiz_name ) ) {\r\n\t\t\tconsole.log(\"empty quiz_name\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//save quiz status\r\n\t\tsetSaveQuiz( true );\r\n\t\t\r\n\t\tlet quizData = qsmFormData({\r\n\t\t\t'quiz_name': quizAttr.quiz_name,\r\n\t\t\t'qsm_new_quiz_nonce': qsmBlockData.qsm_new_quiz_nonce\r\n\t\t});\r\n\t\t\r\n\t\t['form_type', \r\n\t\t'system', \r\n\t\t'timer_limit', \r\n\t\t'pagination',\r\n\t\t'enable_contact_form', \r\n\t\t'enable_pagination_quiz', \r\n\t\t'show_question_featured_image_in_result',\r\n\t\t'progress_bar',\r\n\t\t'require_log_in',\r\n\t\t'disable_first_page',\r\n\t\t'comment_section'\r\n\t\t].forEach( ( item ) => ( 'undefined' === typeof quizAttr[ item ] || null === quizAttr[ item ] ) ? '' : quizData.append( item, quizAttr[ item ] ) );\r\n\r\n\t\t//AJAX call\r\n\t\tapiFetch( {\r\n\t\t\tpath: '/quiz-survey-master/v1/quiz/create_quiz',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: quizData\r\n\t\t} ).then( ( res ) => {\r\n\t\t\t//save quiz status\r\n\t\t\tsetSaveQuiz( false );\r\n\t\t\tif ( 'success' == res.status ) {\r\n\t\t\t\t//create a question\r\n\t\t\t\tlet newQuestion = qsmFormData( {\r\n\t\t\t\t\t\"id\": null,\r\n\t\t\t\t\t\"quizID\": res.quizID,\r\n\t\t\t\t\t\"answerEditor\": \"text\",\r\n\t\t\t\t\t\"type\": \"0\",\r\n\t\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\t\"question_title\": \"\",\r\n\t\t\t\t\t\"answerInfo\": \"\",\r\n\t\t\t\t\t\"comments\": \"1\",\r\n\t\t\t\t\t\"hint\": \"\",\r\n\t\t\t\t\t\"category\": \"\",\r\n\t\t\t\t\t\"required\": 1,\r\n\t\t\t\t\t\"answers\": [],\r\n\t\t\t\t\t\"page\": 0\r\n\t\t\t\t} );\r\n\t\t\t\t//AJAX call\r\n\t\t\t\tapiFetch( {\r\n\t\t\t\t\tpath: '/quiz-survey-master/v1/questions',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: newQuestion\r\n\t\t\t\t} ).then( ( response ) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( 'success' == response.status ) {\r\n\t\t\t\t\t\tlet question_id = response.id;\r\n\r\n\t\t\t\t\t\t/**Page attributes required format */\r\n\t\t\t\t\t\t// pages[0][]: 2512\r\n\t\t\t\t\t\t// \tqpages[0][id]: 2\r\n\t\t\t\t\t\t// \tqpages[0][quizID]: 76\r\n\t\t\t\t\t\t// \tqpages[0][pagekey]: Ipj90nNT\r\n\t\t\t\t\t\t// \tqpages[0][hide_prevbtn]: 0\r\n\t\t\t\t\t\t// \tqpages[0][questions][]: 2512\r\n\t\t\t\t\t\t// \tpost_id: 111\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet newPage = qsmFormData( {\r\n\t\t\t\t\t\t\t\"action\": qsmBlockData.save_pages_action,\r\n\t\t\t\t\t\t\t\"quiz_id\": res.quizID,\r\n\t\t\t\t\t\t\t\"nonce\": qsmBlockData.saveNonce,\r\n\t\t\t\t\t\t\t\"post_id\": res.quizPostID,\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t\tnewPage.append( 'pages[0][]', question_id  );\r\n\t\t\t\t\t\tnewPage.append( 'qpages[0][id]', 1  );\r\n\t\t\t\t\t\tnewPage.append( 'qpages[0][quizID]', res.quizID );\r\n\t\t\t\t\t\tnewPage.append( 'qpages[0][pagekey]', qsmUniqid()  );\r\n\t\t\t\t\t\tnewPage.append( 'qpages[0][hide_prevbtn]', 0  );\r\n\t\t\t\t\t\tnewPage.append( 'qpages[0][questions][]', question_id  );\r\n\r\n\r\n\t\t\t\t\t\t//create a page\r\n\t\t\t\t\t\tapiFetch( {\r\n\t\t\t\t\t\t\turl: qsmBlockData.ajax_url,\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\tbody: newPage\r\n\t\t\t\t\t\t} ).then( ( pageResponse ) => {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif ( 'success' == pageResponse.status ) {\r\n\t\t\t\t\t\t\t\t//set new quiz\r\n\t\t\t\t\t\t\t\tinitializeQuizAttributes( res.quizID );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}).catch(\r\n\t\t\t\t\t( error ) => {\r\n\t\t\t\t\t\tconsole.log( 'error',error );\r\n\t\t\t\t\t\tcreateNotice( 'error', error.message, {\r\n\t\t\t\t\t\t\tisDismissible: true,\r\n\t\t\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t} \r\n\r\n\t\t\t//create notice\r\n\t\t\tcreateNotice( res.status, res.msg, {\r\n\t\t\t\tisDismissible: true,\r\n\t\t\t\ttype: 'snackbar',\r\n\t\t\t} );\r\n\t\t} ).catch(\r\n\t\t\t( error ) => {\r\n\t\t\t\tconsole.log( 'error',error );\r\n\t\t\t\tcreateNotice( 'error', error.message, {\r\n\t\t\t\t\tisDismissible: true,\r\n\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t);\r\n\t  \r\n\t}\r\n\r\n\t/**\r\n\t * Inner Blocks\r\n\t */\r\n\tconst blockProps = useBlockProps();\r\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\r\n\t\ttemplate: quizTemplate,\r\n\t\tallowedBlocks : [\r\n\t\t\t'qsm/quiz-page'\r\n\t\t]\r\n\t} );\r\n\t\r\n\r\n\treturn (\r\n\t<>\r\n\t<InspectorControls>\r\n\t\t<PanelBody title={ __( 'Quiz settings', 'quiz-master-next' ) } initialOpen={ true }>\r\n\t\t<label className=\"qsm-inspector-label\">\r\n\t\t\t{ __( 'Status', 'quiz-master-next' )+':' }\r\n\t\t\t<span className=\"qsm-inspector-label-value\" >\r\n\t\t\t\t{ quizAttr.post_status }\r\n\t\t\t</span>\r\n\t\t</label>\r\n\t\t\r\n\t\t<TextControl\r\n\t\t\tlabel={ __( 'Quiz Name *', 'quiz-master-next' ) }\r\n\t\t\thelp={ __( 'Enter a name for this Quiz', 'quiz-master-next' ) }\r\n\t\t\tvalue={ quizAttr?.quiz_name || '' }\r\n\t\t\tonChange={ ( val ) => setQuizAttributes( val, 'quiz_name') }\r\n\t\t\tclassName='qsm-no-mb'\r\n\t\t/>\r\n\t\t{\r\n\t\t\t( ! qsmIsEmpty( quizID ) || '0' != quizID ) && \r\n\t\t\t<p>\r\n\t\t\t\t<ExternalLink \r\n\t\t\t\thref={ qsmBlockData.quiz_settings_url+'&quiz_id='+quizID }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ __( 'Advance Quiz Settings', 'quiz-master-next' ) }\r\n\t\t\t\t</ExternalLink>\r\n\t\t\t</p>\r\n\t\t}\r\n\t\t</PanelBody>\r\n\t</InspectorControls>\r\n\t{ ( qsmIsEmpty( quizID ) || '0' == quizID ) ? \r\n    quizPlaceholder() \r\n\t:\r\n\t<div { ...innerBlocksProps } />\r\n\t}\r\n\t\r\n\t</>\r\n\t);\r\n}\r\n","//Check if undefined, null, empty\r\nexport const qsmIsEmpty = ( data ) => ( 'undefined' === typeof data || null === data || '' === data );\r\n\r\n//Get Unique array values\r\nexport const qsmUniqueArray = ( arr ) => {\r\n\tif ( qsmIsEmpty( arr ) || ! Array.isArray( arr ) ) {\r\n\t\treturn arr;\r\n\t}\r\n\treturn arr.filter( ( val, index, arr ) => arr.indexOf( val ) === index );\r\n}\r\n\r\n\r\n//Decode htmlspecialchars\r\nexport const qsmDecodeHtml = ( html ) => {\r\n\tvar txt = document.createElement(\"textarea\");\r\n\ttxt.innerHTML = html;\r\n\treturn txt.value;\r\n}\r\n\r\nexport const qsmSanitizeName = ( name ) => {\r\n\tif ( qsmIsEmpty( name ) ) {\r\n\t\tname = '';\r\n\t} else {\r\n\t\tname = name.toLowerCase().replace( / /g, '_' );\r\n\t\tname = name.replace(/\\W/g, '');\r\n\t}\r\n\t\r\n\treturn name;\r\n}\r\n\r\n// Remove anchor tags from text content.\r\nexport const qsmStripTags = ( text ) => {\r\n\tlet div = document.createElement(\"div\");\r\n\tdiv.innerHTML = qsmDecodeHtml( text );\r\n\treturn  div.innerText;\r\n}\r\n\r\n//prepare form data\r\nexport const qsmFormData = ( obj = false ) => {\r\n\tlet newData = new FormData();\r\n\t//add to check if api call from editor\r\n\tnewData.append('qsm_block_api_call', '1');\r\n\tif ( false !== obj ) {\r\n\t\tfor ( let k in obj ) {\r\n\t\t\tif ( obj.hasOwnProperty( k ) ) {\r\n\t\t\t   newData.append( k, obj[k] );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn newData;\r\n}\r\n\r\n//add objecyt to form data\r\nexport const qsmAddObjToFormData = ( formKey, valueObj, data = new FormData() ) => {\r\n\tif ( qsmIsEmpty( formKey ) || qsmIsEmpty( valueObj ) || 'object' !== typeof valueObj ) {\r\n\t\treturn data;\r\n\t}\r\n\r\n\tfor (let key in valueObj) {\r\n\t\tif ( valueObj.hasOwnProperty(key) ) {\r\n\t\t\tlet value = valueObj[key];\r\n\t\t\tif ( 'object' === value ) {\r\n\t\t\t\tqsmAddObjToFormData( formKey+'['+key+']', value,  data );\r\n\t\t\t} else {\r\n\t\t\t\tdata.append( formKey+'['+key+']', valueObj[key] );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\treturn data;\r\n}\r\n\r\n//generate uiniq id\r\nexport const qsmUniqid = (prefix = \"\", random = false) => {\r\n    const sec = Date.now() * 1000 + Math.random() * 1000;\r\n    const id = sec.toString(16).replace(/\\./g, \"\").padEnd(8, \"0\");\r\n    return `${prefix}${id}${random ? `.${Math.trunc(Math.random() * 100000000)}`:\"\"}`;\r\n};\r\n\r\n//return data if not empty otherwise default value\r\nexport const qsmValueOrDefault = ( data, defaultValue = '' ) => qsmIsEmpty( data ) ? defaultValue :data;","import { registerBlockType } from '@wordpress/blocks';\r\nimport './style.scss';\r\nimport Edit from './edit';\r\nimport metadata from './block.json';\r\nimport { qsmBlockIcon } from './component/icon';\r\n\r\nconst save = ( props ) => null;\r\nregisterBlockType( metadata.name, {\r\n\ticon: qsmBlockIcon,\r\n\t/**\r\n\t * @see ./edit.js\r\n\t */\r\n\tedit: Edit,\r\n\tsave: save,\r\n} );\r\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editor\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkqsm\"] = self[\"webpackChunkqsm\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], function() { return __webpack_require__(\"./src/index.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["Icon","qsmBlockIcon","createElement","icon","width","height","viewBox","fill","xmlns","rx","d","questionBlockIcon","x","y","answerOptionBlockIcon","__","useState","useEffect","apiFetch","decodeEntities","InspectorControls","InnerBlocks","useBlockProps","store","blockEditorStore","useInnerBlocksProps","noticesStore","useDispatch","useSelect","editorStore","PanelBody","Button","TextControl","ToggleControl","SelectControl","Placeholder","ExternalLink","__experimentalVStack","VStack","qsmIsEmpty","qsmFormData","qsmUniqid","qsmValueOrDefault","qsmDecodeHtml","Edit","props","qsmBlockData","className","attributes","setAttributes","isSelected","clientId","createNotice","globalQuizsetting","quizID","postID","quizAttr","quizList","setQuizList","QSMQuizList","quizMessage","setQuizMessage","error","msg","createQuiz","setCreateQuiz","saveQuiz","setSaveQuiz","showAdvanceOption","setShowAdvanceOption","quizTemplate","setQuizTemplate","quizOptions","isSavingPage","select","isAutosavingPost","isSavingPost","getBlock","shouldSetQSMAttr","is_pro_activated","setTimeout","addUpgradePopupHtml","hasQuiz","forEach","quizElement","value","initializeQuizAttributes","undefined","modalEl","document","getElementById","path","method","then","res","bodyEl","status","insertAdjacentHTML","result","catch","console","log","quiz_id","data","parseInt","post_id","qpages","quizTemp","page","questions","question_arr","question","answers","length","answer","aIndex","push","optionID","content","points","isCorrect","caption","questionID","question_id","type","question_type_new","answerEditor","settings","title","question_title","description","question_name","required","hint","hints","correctAnswerInfo","question_answer_info","category","multicategories","commentBox","comments","matchAnswer","featureImageID","featureImageSrc","pageID","id","pageKey","pagekey","hidePrevBtn","hide_prevbtn","quizPlaceholder","label","instructions","Fragment","options","onChange","disabled","__nextHasNoMarginBottom","variant","onClick","spacing","help","quiz_name","val","setQuizAttributes","form_type","system","map","item","key","checked","createNewQuiz","attr_name","newAttr","getQuizDataToSave","blocks","innerBlocks","quizDataToSave","quiz","pages","pageSNo","block","name","questionBlocks","questionBlock","questionAttr","answerOptionBlocks","answerOptionBlock","answerAttr","answerContent","ans","isChanged","quizData","JSON","stringify","nonce","saveNonce","body","isDismissible","message","qsm_new_quiz_nonce","append","newQuestion","response","newPage","save_pages_action","quizPostID","url","ajax_url","pageResponse","blockProps","innerBlocksProps","template","allowedBlocks","initialOpen","post_status","href","quiz_settings_url","qsmUniqueArray","arr","Array","isArray","filter","index","indexOf","html","txt","innerHTML","qsmSanitizeName","toLowerCase","replace","qsmStripTags","text","div","innerText","obj","newData","FormData","k","hasOwnProperty","qsmAddObjToFormData","formKey","valueObj","prefix","random","sec","Date","now","Math","toString","padEnd","trunc","defaultValue","registerBlockType","metadata","save","edit"],"sourceRoot":""}