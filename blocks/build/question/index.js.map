{"version":3,"file":"question/index.js","mappings":"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","sources":["webpack://qsm/./src/component/FeaturedImage.js","webpack://qsm/./src/component/SelectAddCategory.js","webpack://qsm/./src/component/icon.js","webpack://qsm/./src/helper.js","webpack://qsm/./src/question/edit.js","webpack://qsm/external window [\"wp\",\"apiFetch\"]","webpack://qsm/external window [\"wp\",\"blob\"]","webpack://qsm/external window [\"wp\",\"blockEditor\"]","webpack://qsm/external window [\"wp\",\"blocks\"]","webpack://qsm/external window [\"wp\",\"components\"]","webpack://qsm/external window [\"wp\",\"coreData\"]","webpack://qsm/external window [\"wp\",\"data\"]","webpack://qsm/external window [\"wp\",\"element\"]","webpack://qsm/external window [\"wp\",\"hooks\"]","webpack://qsm/external window [\"wp\",\"i18n\"]","webpack://qsm/external window [\"wp\",\"notices\"]","webpack://qsm/webpack/bootstrap","webpack://qsm/webpack/runtime/compat get default export","webpack://qsm/webpack/runtime/define property getters","webpack://qsm/webpack/runtime/hasOwnProperty shorthand","webpack://qsm/webpack/runtime/make namespace object","webpack://qsm/./src/question/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { applyFilters } from '@wordpress/hooks';\r\nimport {\r\n\tDropZone,\r\n\tButton,\r\n\tSpinner,\r\n\tResponsiveWrapper,\r\n\twithNotices,\r\n\twithFilters,\r\n\t__experimentalHStack as HStack,\r\n} from '@wordpress/components';\r\nimport { isBlobURL } from '@wordpress/blob';\r\nimport { useState, useRef, useEffect } from '@wordpress/element';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\nimport { useDispatch, useSelect, select, withDispatch, withSelect } from '@wordpress/data';\r\nimport {\r\n\tMediaUpload,\r\n\tMediaUploadCheck,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { qsmIsEmpty } from '../helper';\r\n\r\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\r\n\r\n// Used when labels from post type were not yet loaded or when they are not present.\r\nconst DEFAULT_FEATURE_IMAGE_LABEL = __( 'Featured image' );\r\nconst DEFAULT_SET_FEATURE_IMAGE_LABEL = __( 'Set featured image' );\r\n\r\nconst instructions = (\r\n\t<p>\r\n\t\t{ __(\r\n\t\t\t'To edit the featured image, you need permission to upload media.'\r\n\t\t) }\r\n\t</p>\r\n);\r\n\r\nconst FeaturedImage = ( {\r\n\tfeatureImageID,\r\n\tonUpdateImage,\r\n\tonRemoveImage\r\n} ) => {\r\n\tconst { createNotice } = useDispatch( noticesStore );\r\n\tconst toggleRef = useRef();\r\n\tconst [ isLoading, setIsLoading ] = useState( false );\r\n\tconst [ media, setMedia ] = useState( undefined );\r\n\tconst { mediaFeature, mediaUpload } = useSelect( ( select ) => {\r\n\t\tconst { getMedia } = select( coreStore );\r\n\t\t\treturn {\r\n\t\t\t\tmediaFeature: qsmIsEmpty( media ) && ! qsmIsEmpty( featureImageID ) && getMedia( featureImageID ),\r\n\t\t\t\tmediaUpload: select( blockEditorStore ).getSettings().mediaUpload \r\n\t\t\t};\r\n\t}, [] );\r\n\r\n\t/**Set media data */\r\n\tuseEffect( () => {\r\n\t\tlet shouldSetQSMAttr = true;\r\n\t\tif ( shouldSetQSMAttr ) {\r\n\t\t\tif ( ! qsmIsEmpty( mediaFeature ) && 'object' === typeof mediaFeature ) {\r\n\t\t\t\tsetMedia({\r\n\t\t\t\t\tid: featureImageID,\r\n\t\t\t\t\twidth: mediaFeature.media_details.width, \r\n\t\t\t\t\theight: mediaFeature.media_details.height, \r\n\t\t\t\t\turl: mediaFeature.source_url,\r\n\t\t\t\t\talt_text: mediaFeature.alt_text,\r\n\t\t\t\t\tslug: mediaFeature.slug\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//cleanup\r\n\t\treturn () => {\r\n\t\t\tshouldSetQSMAttr = false;\r\n\t\t};\r\n\t\t\r\n\t}, [ mediaFeature ] );\r\n\r\n\tfunction onDropFiles( filesList ) {\r\n\t\tmediaUpload( {\r\n\t\t\tallowedTypes: [ 'image' ],\r\n\t\t\tfilesList,\r\n\t\t\tonFileChange( [ image ] ) {\r\n\t\t\t\tif ( isBlobURL( image?.url ) ) {\r\n\t\t\t\t\tsetIsLoading( true );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tonUpdateImage( image );\r\n\t\t\t\tsetIsLoading( false );\r\n\t\t\t},\r\n\t\t\tonError( message ) {\r\n\t\t\t\tcreateNotice( 'error', message, {\r\n\t\t\t\t\tisDismissible: true,\r\n\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t} );\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"editor-post-featured-image\">\r\n\t\t\t{ media && (\r\n\t\t\t\t<div\r\n\t\t\t\t\tid={ `editor-post-featured-image-${ featureImageID }-describedby` }\r\n\t\t\t\t\tclassName=\"hidden\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{ media.alt_text &&\r\n\t\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t\t// Translators: %s: The selected image alt text.\r\n\t\t\t\t\t\t\t__( 'Current image: %s' ),\r\n\t\t\t\t\t\t\tmedia.alt_text\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t{ ! media.alt_text &&\r\n\t\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t\t// Translators: %s: The selected image filename.\r\n\t\t\t\t\t\t\t__(\r\n\t\t\t\t\t\t\t\t'The current image has no alternative text. The file name is: %s'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tmedia.slug\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\t\t\t<MediaUploadCheck fallback={ instructions }>\r\n\t\t\t\t<MediaUpload\r\n\t\t\t\t\ttitle={\r\n\t\t\t\t\t\tDEFAULT_FEATURE_IMAGE_LABEL\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonSelect={ ( media ) => { \r\n\t\t\t\t\t\tsetMedia( media );\r\n\t\t\t\t\t\tonUpdateImage( media );\r\n\t\t\t\t\t} }\r\n\t\t\t\t\tunstableFeaturedImageFlow\r\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\r\n\t\t\t\t\tmodalClass=\"editor-post-featured-image__media-modal\"\r\n\t\t\t\t\trender={ ( { open } ) => (\r\n\t\t\t\t\t\t<div className=\"editor-post-featured-image__container\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tref={ toggleRef }\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t! featureImageID\r\n\t\t\t\t\t\t\t\t\t\t? 'editor-post-featured-image__toggle'\r\n\t\t\t\t\t\t\t\t\t\t: 'editor-post-featured-image__preview'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClick={ open }\r\n\t\t\t\t\t\t\t\taria-label={\r\n\t\t\t\t\t\t\t\t\t! featureImageID\r\n\t\t\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t\t\t: __( 'Edit or replace the image' )\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\taria-describedby={\r\n\t\t\t\t\t\t\t\t\t! featureImageID\r\n\t\t\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t\t\t: `editor-post-featured-image-${ featureImageID }-describedby`\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ !! featureImageID && media && (\r\n\t\t\t\t\t\t\t\t\t<ResponsiveWrapper\r\n\t\t\t\t\t\t\t\t\t\tnaturalWidth={ media.width }\r\n\t\t\t\t\t\t\t\t\t\tnaturalHeight={ media.height }\r\n\t\t\t\t\t\t\t\t\t\tisInline\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={ media.url }\r\n\t\t\t\t\t\t\t\t\t\t\talt={ media.alt_text }\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ResponsiveWrapper>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t{ isLoading && <Spinner /> }\r\n\t\t\t\t\t\t\t\t{ ! featureImageID &&\r\n\t\t\t\t\t\t\t\t\t! isLoading &&\r\n\t\t\t\t\t\t\t\t\t(\tDEFAULT_SET_FEATURE_IMAGE_LABEL ) }\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t{ !! featureImageID && (\r\n\t\t\t\t\t\t\t\t<HStack className=\"editor-post-featured-image__actions\">\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"editor-post-featured-image__action\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={ open }\r\n\t\t\t\t\t\t\t\t\t\t// Prefer that screen readers use the .editor-post-featured-image__preview button.\r\n\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{ __( 'Replace' ) }\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"editor-post-featured-image__action\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\t\tonRemoveImage();\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleRef.current.focus();\r\n\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{ __( 'Remove' ) }\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</HStack>\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t<DropZone onFilesDrop={ onDropFiles } />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tvalue={ featureImageID }\r\n\t\t\t\t/>\r\n\t\t\t</MediaUploadCheck>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default FeaturedImage;","/**\r\n * Select or add a category\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useState, useEffect } from '@wordpress/element';\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport {\r\n\tPanelBody,\r\n    Button,\r\n    TreeSelect,\r\n\tTextControl,\r\n\tToggleControl,\r\n\tRangeControl,\r\n\tRadioControl,\r\n\tSelectControl,\r\n\tCheckboxControl,\r\n    Flex,\r\n    FlexItem,\r\n} from '@wordpress/components';\r\nimport { qsmIsEmpty, qsmFormData } from '../helper';\r\n\r\nconst SelectAddCategory = ({\r\n    isCategorySelected,\r\n    setUnsetCatgory\r\n}) => {\r\n\r\n    //whether showing add category form\r\n\tconst [ showForm, setShowForm ] = useState( false );\r\n    //new category name\r\n    const [ formCatName, setFormCatName ] = useState( '' );\r\n    //new category prent id\r\n    const [ formCatParent, setFormCatParent ] = useState( 0 );\r\n    //new category adding start status\r\n    const [ addingNewCategory, setAddingNewCategory ] = useState( false );\r\n    //error\r\n    const [ newCategoryError, setNewCategoryError ] = useState( false );\r\n    //category list \r\n    const [ categories, setCategories ] = useState( qsmBlockData?.hierarchicalCategoryList );\r\n\r\n     //get category id-details object \r\n     const getCategoryIdDetailsObject = ( categories ) => {\r\n        let catObj = {};\r\n        categories.forEach( cat => {\r\n            catObj[ cat.id ] = cat;\r\n            if ( 0 < cat.children.length ) {\r\n               let childCategory = getCategoryIdDetailsObject( cat.children );\r\n               catObj = { ...catObj, ...childCategory };\r\n            }\r\n        });\r\n        return catObj;\r\n    }\r\n\r\n    //category id wise details\r\n    const [ categoryIdDetails, setCategoryIdDetails ] = useState( qsmIsEmpty( qsmBlockData?.hierarchicalCategoryList ) ? {} : getCategoryIdDetailsObject( qsmBlockData.hierarchicalCategoryList ) );\r\n\r\n    const addNewCategoryLabel = __( 'Add New Category ', 'quiz-master-next' );\r\n    const noParentOption = `— ${ __( 'Parent Category ', 'quiz-master-next' ) } —`;\r\n\r\n    //Add new category\r\n    const onAddCategory = async ( event ) => {\r\n\t\tevent.preventDefault();\r\n\t\tif ( newCategoryError || qsmIsEmpty( formCatName ) || addingNewCategory ) {\r\n\t\t\treturn;\r\n\t\t}\r\n        setAddingNewCategory( true );\r\n\r\n        //create a page\r\n        apiFetch( {\r\n            url: qsmBlockData.ajax_url,\r\n            method: 'POST',\r\n            body: qsmFormData({\r\n                'action': 'save_new_category',\r\n                'name': formCatName,\r\n                'parent': formCatParent   \r\n            })\r\n        } ).then( ( res ) => {\r\n            if ( ! qsmIsEmpty( res.term_id ) ) {\r\n                let term_id = res.term_id;\r\n                //console.log(\"save_new_category\",res);\r\n                //set category list\r\n                apiFetch( {\r\n                    path: '/quiz-survey-master/v1/quiz/hierarchical-category-list',\r\n                    method: 'POST'\r\n                } ).then( ( res ) => {\r\n                   // console.log(\"new categorieslist\",  res);\r\n                    if ( 'success' == res.status ) {\r\n                        setCategories( res.result );\r\n                        setCategoryIdDetails( res.result );\r\n                         //set form\r\n                        setFormCatName( '' );\r\n                        setFormCatParent( 0 );\r\n                        //set category selected\r\n                        setUnsetCatgory( term_id, getCategoryIdDetailsObject( term.id ) );\r\n                        setAddingNewCategory( false );\r\n                    }\r\n                });\r\n               \r\n            }\r\n            \r\n        });\r\n    }\r\n\r\n    //get category name array\r\n    const getCategoryNameArray = ( categories ) => {\r\n        let cats = [];\r\n        categories.forEach( cat => {\r\n            cats.push( cat.name );\r\n            if ( 0 < cat.children.length ) {\r\n               let childCategory = getCategoryNameArray( cat.children );\r\n                cats = [ ...cats, ...childCategory ];\r\n            }\r\n        });\r\n        return cats;\r\n    }\r\n\r\n    //check if category name already exists and set new category name\r\n    const checkSetNewCategory = ( catName, categories ) => {\r\n        categories = getCategoryNameArray( categories );\r\n        console.log( \"categories\", categories );\r\n        if ( categories.includes( catName ) ) {\r\n            setNewCategoryError( catName );\r\n        } else {\r\n            setNewCategoryError( false );\r\n            setFormCatName( catName );\r\n        }\r\n        // categories.forEach( cat => {\r\n        //     if ( cat.name == catName ) {\r\n        //         matchName = true;\r\n        //         return false;\r\n        //     } else if ( 0 < cat.children.length ) {\r\n        //         checkSetNewCategory( catName, cat.children )\r\n        //     }\r\n        // });\r\n        \r\n        // if ( matchName ) {\r\n        //     setNewCategoryError( matchName );\r\n        // } else {\r\n        //     setNewCategoryError( matchName );\r\n        //     setFormCatName( catName );\r\n        // }\r\n    }\r\n\r\n    const renderTerms = ( categories ) => {\r\n\t\treturn categories.map( ( term ) => {\r\n\t\t\treturn (\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={ term.id }\r\n\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-choice\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<CheckboxControl\r\n                        label={ term.name }\r\n                        checked={ isCategorySelected( term.id ) }\r\n                        onChange={ () => setUnsetCatgory( term.id, categoryIdDetails ) }\r\n                    />\r\n\t\t\t\t\t{ !! term.children.length && (\r\n\t\t\t\t\t\t<div className=\"editor-post-taxonomies__hierarchical-terms-subchoices\">\r\n\t\t\t\t\t\t\t{ renderTerms( term.children ) }\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} );\r\n\t};\r\n    \r\n    return(\r\n        <PanelBody title={ __( 'Categories', 'quiz-master-next' ) } initialOpen={ true }>\r\n            <div\r\n\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-list\"\r\n\t\t\t\ttabIndex=\"0\"\r\n\t\t\t\trole=\"group\"\r\n\t\t\t\taria-label={ __( 'Categories', 'quiz-master-next' ) }\r\n\t\t\t>\r\n\t\t\t\t{ renderTerms( categories ) }\r\n\t\t\t</div>\r\n            <div className='qsm-ptb-1'>\r\n                <Button \r\n                    variant=\"link\"\r\n                    onClick={ () => setShowForm( ! showForm )\t}\r\n                    >\r\n                    { addNewCategoryLabel }\r\n                </Button>\r\n            </div>\r\n            { showForm && (\r\n\t\t\t\t<form onSubmit={ onAddCategory }>\r\n\t\t\t\t\t<Flex direction=\"column\" gap=\"1\">\r\n\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-input\"\r\n\t\t\t\t\t\t\tlabel={ __( 'Category Name', 'quiz-master-next' ) }\r\n\t\t\t\t\t\t\tvalue={ formCatName }\r\n\t\t\t\t\t\t\tonChange={ ( formCatName ) => checkSetNewCategory( formCatName, categories ) }\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{ 0 < categories.length && (\r\n\t\t\t\t\t\t\t<TreeSelect\r\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Parent Category', 'quiz-master-next' ) }\r\n\t\t\t\t\t\t\t\tnoOptionLabel={ noParentOption }\r\n\t\t\t\t\t\t\t\tonChange={ ( id ) => setFormCatParent( id ) }\r\n\t\t\t\t\t\t\t\tselectedId={ formCatParent }\r\n\t\t\t\t\t\t\t\ttree={ categories }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t<FlexItem>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-submit\"\r\n                                disabled={  newCategoryError || addingNewCategory }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ addNewCategoryLabel }\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</FlexItem>\r\n                        <FlexItem>\r\n                            <p className='qsm-error-text' >\r\n                                { false !== newCategoryError && __( 'Category ', 'quiz-master-next' ) + newCategoryError + __( ' already exists.', 'quiz-master-next' ) }\r\n                            </p>\r\n                        </FlexItem>\r\n\t\t\t\t\t</Flex>\r\n\t\t\t\t</form>\r\n\t\t\t) }\r\n\t\t</PanelBody>\r\n    );\r\n}\r\n\r\nexport default SelectAddCategory;","import { Icon } from '@wordpress/components';\r\n//QSM Quiz Block\r\nexport const qsmBlockIcon = () => (\r\n\t<Icon\r\n\t\ticon={ () => (\r\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<rect width=\"24\" height=\"24\" rx=\"3\" fill=\"black\"/>\r\n\t\t<path d=\"M17.8146 17.8349C19.3188 16.3426 20.25 14.2793 20.25 12C20.2485 7.44425 16.5267 3.75 11.9348 3.75C7.34282 3.75 3.62109 7.44425 3.62109 12C3.62109 16.5558 7.34282 20.25 11.9348 20.25H18.9988C19.4682 20.25 19.7074 19.7112 19.3813 19.3885L17.8146 17.8334V17.8349ZM11.8753 17.5195C8.72666 17.5195 6.17388 15.0737 6.17388 12.0569C6.17388 9.04022 8.72666 6.59442 11.8753 6.59442C15.024 6.59442 17.5768 9.04022 17.5768 12.0569C17.5768 15.0737 15.024 17.5195 11.8753 17.5195Z\" fill=\"white\"/>\r\n\t\t</svg>\r\n\t\t) }\r\n\t/>\r\n);\r\n\r\n//Question Block\r\nexport const questionBlockIcon = () => (\r\n\t<Icon\r\n\t\ticon={ () => (\r\n\t\t\t<svg width=\"25\" height=\"25\" viewBox=\"0 0 25 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<rect x=\"0.102539\" y=\"0.101562\" width=\"24\" height=\"24\" rx=\"4.68852\" fill=\"#ADADAD\"/>\r\n\t\t\t<path d=\"M17.0475 17.191C17.2367 17.3683 17.3313 17.5752 17.3313 17.8117C17.3313 18.06 17.2426 18.2787 17.0653 18.4679C16.8879 18.6453 16.6751 18.734 16.4268 18.734C16.1667 18.734 15.9538 18.6512 15.7883 18.4857L14.937 17.6521C13.8492 18.4088 12.5959 18.7872 11.177 18.7872C10.0301 18.7872 9.01325 18.533 8.12646 18.0245C7.2515 17.5161 6.57163 16.8126 6.08685 15.914C5.6139 15.0035 5.37742 13.9631 5.37742 12.7925C5.37742 11.5273 5.64937 10.41 6.19327 9.44044C6.74898 8.45907 7.48206 7.70234 8.3925 7.17027C9.31475 6.6382 10.308 6.37216 11.3721 6.37216C12.4481 6.37216 13.459 6.64411 14.4049 7.18801C15.3508 7.72008 16.1075 8.46498 16.6751 9.42271C17.2426 10.3804 17.5264 11.4505 17.5264 12.6329C17.5264 14.0636 17.1007 15.3287 16.2494 16.4283L17.0475 17.191ZM11.177 17.1732C12.0874 17.1732 12.9269 16.9249 13.6955 16.4283L12.5604 15.311C12.3949 15.1454 12.3121 14.9799 12.3121 14.8144C12.3121 14.6015 12.4244 14.3887 12.6491 14.1759C12.8855 13.9631 13.122 13.8566 13.3585 13.8566C13.5122 13.8566 13.6364 13.9039 13.7309 13.9985L14.9724 15.1868C15.4927 14.4183 15.7528 13.5492 15.7528 12.5797C15.7528 11.7284 15.5518 10.9539 15.1498 10.2563C14.7596 9.54686 14.2335 8.99114 13.5713 8.58913C12.9092 8.18712 12.1998 7.98611 11.443 7.98611C10.6981 7.98611 9.99462 8.18121 9.33249 8.57139C8.67036 8.94975 8.13828 9.49956 7.73627 10.2208C7.34609 10.9421 7.15099 11.7756 7.15099 12.7216C7.15099 13.6083 7.32244 14.3887 7.66533 15.0627C8.02005 15.7366 8.49891 16.2569 9.10192 16.6234C9.71676 16.99 10.4085 17.1732 11.177 17.1732Z\" fill=\"white\"/>\r\n\t\t\t</svg>\r\n\t\t) }\r\n\t/>\r\n);\r\n\r\n//Answer option Block\r\nexport const answerOptionBlockIcon = () => (\r\n\t<Icon\r\n\t\ticon={ () => (\r\n\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<rect width=\"24\" height=\"24\" rx=\"4.21657\" fill=\"#ADADAD\"/>\r\n\t\t\t<path d=\"M8.96182 17.2773H7.33619L10.9889 7.12707H12.7583L16.411 17.2773H14.7853L11.9157 8.97077H11.8364L8.96182 17.2773ZM9.23441 13.3025H14.5078V14.5911H9.23441V13.3025Z\" fill=\"white\"/>\r\n\t\t\t</svg>\r\n\t\t) }\r\n\t/>\r\n);\r\n\r\n//Warning icon\r\nexport const warningIcon = () => (\r\n\t<Icon\r\n\t\ticon={ () => (\r\n\t\t\t<svg width=\"54\" height=\"54\" viewBox=\"0 0 54 54\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<path d=\"M27.1855 23.223V28.0626M15.1794 32.4196C14.0618 34.3554 15.4595 36.7739 17.6934 36.7739H36.6776C38.9102 36.7739 40.3079 34.3554 39.1916 32.4196L29.7008 15.9675C28.5832 14.0317 25.7878 14.0317 24.6702 15.9675L15.1794 32.4196ZM27.1855 31.9343H27.1945V31.9446H27.1855V31.9343Z\" stroke=\"#B45309\" strokeWidth=\"1.65929\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n\t\t\t</svg>\r\n\t\t) }\r\n\t/>\r\n);","//Check if undefined, null, empty\r\nexport const qsmIsEmpty = ( data ) => ( 'undefined' === typeof data || null === data || '' === data );\r\n\r\n//Get Unique array values\r\nexport const qsmUniqueArray = ( arr ) => {\r\n\tif ( qsmIsEmpty( arr ) || ! Array.isArray( arr ) ) {\r\n\t\treturn arr;\r\n\t}\r\n\treturn arr.filter( ( val, index, arr ) => arr.indexOf( val ) === index );\r\n}\r\n\r\n//Match array of object values and return array of cooresponding matching keys \r\nexport const qsmMatchingValueKeyArray = ( values, obj ) => {\r\n\tif ( qsmIsEmpty( obj ) || ! Array.isArray( values ) ) {\r\n\t\treturn values;\r\n\t}\r\n\treturn values.map( ( val ) => Object.keys(obj).find( key => obj[key] == val) );\r\n}\r\n\r\n//Decode htmlspecialchars\r\nexport const qsmDecodeHtml = ( html ) => {\r\n\tvar txt = document.createElement(\"textarea\");\r\n\ttxt.innerHTML = html;\r\n\treturn txt.value;\r\n}\r\n\r\nexport const qsmSanitizeName = ( name ) => {\r\n\tif ( qsmIsEmpty( name ) ) {\r\n\t\tname = '';\r\n\t} else {\r\n\t\tname = name.toLowerCase().replace( / /g, '_' );\r\n\t\tname = name.replace(/\\W/g, '');\r\n\t}\r\n\t\r\n\treturn name;\r\n}\r\n\r\n// Remove anchor tags from text content.\r\nexport const qsmStripTags = ( text ) => {\r\n\tlet div = document.createElement(\"div\");\r\n\tdiv.innerHTML = qsmDecodeHtml( text );\r\n\treturn  div.innerText;\r\n}\r\n\r\n//prepare form data\r\nexport const qsmFormData = ( obj = false ) => {\r\n\tlet newData = new FormData();\r\n\t//add to check if api call from editor\r\n\tnewData.append('qsm_block_api_call', '1');\r\n\tif ( false !== obj ) {\r\n\t\tfor ( let k in obj ) {\r\n\t\t\tif ( obj.hasOwnProperty( k ) ) {\r\n\t\t\t   newData.append( k, obj[k] );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn newData;\r\n}\r\n\r\n//add objecyt to form data\r\nexport const qsmAddObjToFormData = ( formKey, valueObj, data = new FormData() ) => {\r\n\tif ( qsmIsEmpty( formKey ) || qsmIsEmpty( valueObj ) || 'object' !== typeof valueObj ) {\r\n\t\treturn data;\r\n\t}\r\n\r\n\tfor (let key in valueObj) {\r\n\t\tif ( valueObj.hasOwnProperty(key) ) {\r\n\t\t\tlet value = valueObj[key];\r\n\t\t\tif ( 'object' === value ) {\r\n\t\t\t\tqsmAddObjToFormData( formKey+'['+key+']', value,  data );\r\n\t\t\t} else {\r\n\t\t\t\tdata.append( formKey+'['+key+']', valueObj[key] );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\treturn data;\r\n}\r\n\r\n//Generate random number\r\nexport const qsmGenerateRandomKey = (length) => {\r\n    const charset = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    let key = \"\";\r\n\r\n    // Generate random bytes\r\n    const values = new Uint8Array(length);\r\n    window.crypto.getRandomValues(values);\r\n\r\n    for (let i = 0; i < length; i++) {\r\n        // Use the random byte to index into the charset\r\n        key += charset[values[i] % charset.length];\r\n    }\r\n\r\n    return key;\r\n}\r\n\r\n//generate uiniq id\r\nexport const qsmUniqid = (prefix = \"\", random = false) => {\r\n    const id = qsmGenerateRandomKey(8);\r\n    return `${prefix}${id}${random ? `.${ qsmGenerateRandomKey(7) }`:\"\"}`;\r\n};\r\n\r\n//return data if not empty otherwise default value\r\nexport const qsmValueOrDefault = ( data, defaultValue = '' ) => qsmIsEmpty( data ) ? defaultValue :data;","import { __ } from '@wordpress/i18n';\r\nimport { useState, useEffect } from '@wordpress/element';\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport {\r\n\tInspectorControls,\r\n\tRichText,\r\n\tInnerBlocks,\r\n\tuseBlockProps,\r\n\tstore as blockEditorStore,\r\n\tBlockControls,\r\n} from '@wordpress/block-editor';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\nimport { useDispatch, useSelect, select } from '@wordpress/data';\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport {\r\n\tPanelBody,\r\n\tToggleControl,\r\n\tSelectControl,\r\n\tToolbarGroup, \r\n\tToolbarButton,\r\n\tTextControl,\r\n\tCheckboxControl,\r\n\tFormTokenField,\r\n\tButton,\r\n\tExternalLink,\r\n\tModal\r\n} from '@wordpress/components';\r\nimport FeaturedImage from '../component/FeaturedImage';\r\nimport SelectAddCategory from '../component/SelectAddCategory';\r\nimport { warningIcon } from \"../component/icon\";\r\nimport { qsmIsEmpty, qsmStripTags, qsmFormData, qsmValueOrDefault, qsmDecodeHtml, qsmUniqueArray, qsmMatchingValueKeyArray } from '../helper';\r\n\r\n\r\n//check for duplicate questionID attr\r\nconst isQuestionIDReserved = ( questionIDCheck, clientIdCheck ) => {\r\n    const blocksClientIds = select( 'core/block-editor' ).getClientIdsWithDescendants();\r\n    return qsmIsEmpty( blocksClientIds ) ? false : blocksClientIds.some( ( blockClientId ) => {\r\n        const { questionID  } = select( 'core/block-editor' ).getBlockAttributes( blockClientId );\r\n\t\t//different Client Id but same questionID attribute means duplicate\r\n        return clientIdCheck !== blockClientId && questionID === questionIDCheck;\r\n    } );\r\n};\r\n\r\n/**\r\n * https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/rich-text/README.md#allowedformats-array\r\n *  \r\n */\r\nexport default function Edit( props ) {\r\n\t//check for QSM initialize data\r\n\tif ( 'undefined' === typeof qsmBlockData ) {\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tconst { className, attributes, setAttributes, isSelected, clientId, context } = props;\r\n\r\n\t/** https://github.com/WordPress/gutenberg/issues/22282  */\r\n\tconst isParentOfSelectedBlock = useSelect( ( select ) => isSelected || select( 'core/block-editor' ).hasSelectedInnerBlock( clientId, true ) );\r\n\r\n\tconst quizID = context['quiz-master-next/quizID'];\r\n\tconst {\r\n\t\tquiz_name,\r\n\t\tpost_id,\r\n\t\trest_nonce\r\n\t} = context['quiz-master-next/quizAttr'];\r\n\tconst pageID = context['quiz-master-next/pageID'];\r\n\tconst { createNotice } = useDispatch( noticesStore );\r\n\r\n\t//Get finstion to find index of blocks\r\n\tconst { \r\n\t\tgetBlockRootClientId, \r\n\t\tgetBlockIndex \r\n\t} = useSelect( blockEditorStore );\r\n\r\n\t//Get funstion to insert block\r\n\tconst {\r\n\t\tinsertBlock\r\n\t} = useDispatch( blockEditorStore );\r\n\r\n\tconst {\r\n\t\tisChanged = false,//use in editor only to detect if any change occur in this block\r\n\t\tquestionID,\r\n\t\ttype,\r\n\t\tdescription,\r\n\t\ttitle,\r\n\t\tcorrectAnswerInfo,\r\n\t\tcommentBox,\r\n\t\tcategory,\r\n\t\tmulticategories=[],\r\n\t\thint,\r\n\t\tfeatureImageID,\r\n\t\tfeatureImageSrc,\r\n\t\tanswers,\r\n\t\tanswerEditor,\r\n\t\tmatchAnswer,\r\n\t\trequired,\r\n\t\tsettings={},\r\n\t} = attributes;\r\n\t\r\n\t//Variable to decide if correct answer info input field should be available \r\n\tconst [ enableCorrectAnsInfo, setEnableCorrectAnsInfo ] = useState( ! qsmIsEmpty( correctAnswerInfo ) );\r\n\t//Advance Question modal\r\n\tconst [ isOpenAdvanceQModal, setIsOpenAdvanceQModal ] = useState( false );\r\n\r\n\tconst proActivated = ( '1' == qsmBlockData.is_pro_activated );\r\n\tconst isAdvanceQuestionType = ( qtype ) => 14 < parseInt( qtype );\r\n\r\n\t//Available file types\r\n\tconst fileTypes = qsmBlockData.file_upload_type.options;\r\n\r\n\t//Get selected file types\r\n\tconst selectedFileTypes = () => {\r\n\t\tlet file_types = settings?.file_upload_type || qsmBlockData.file_upload_type.default;\r\n\t\treturn qsmIsEmpty( file_types ) ? [] : file_types.split(',');\r\n\t}\r\n\r\n\t//Is file type checked\r\n\tconst isCheckedFileType = ( fileType ) => selectedFileTypes().includes( fileType );\r\n\r\n\t//Set file type\r\n\tconst setFileTypes = ( fileType ) => {\r\n\t\tlet file_types = selectedFileTypes();\r\n\t\tif ( file_types.includes( fileType ) ) {\r\n\t\t\tfile_types = file_types.filter( file_type => file_type != fileType );\r\n\t\t} else {\r\n\t\t\tfile_types.push( fileType );\r\n\t\t}\r\n\t\tfile_types = file_types.join(',');\r\n\t\tsetAttributes({\r\n\t\t\tsettings:{\r\n\t\t\t\t...settings,\r\n\t\t\t\tfile_upload_type: file_types\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\t/**Generate question id if not set or in case duplicate questionID ***/\r\n\tuseEffect( () => {\r\n\t\tlet shouldSetID = true;\r\n\t\tif ( shouldSetID ) {\r\n\t\t\r\n\t\t\tif ( qsmIsEmpty( questionID ) || '0' == questionID || ( ! qsmIsEmpty( questionID ) && isQuestionIDReserved( questionID, clientId ) ) ) {\r\n\t\t\t\t\r\n\t\t\t\t//create a question\r\n\t\t\t\tlet newQuestion = qsmFormData( {\r\n\t\t\t\t\t\"id\": null,\r\n\t\t\t\t\t\"rest_nonce\": rest_nonce,\r\n\t\t\t\t\t\"quizID\": quizID,\r\n\t\t\t\t\t\"quiz_name\": quiz_name,\r\n\t\t\t\t\t\"postID\": post_id,\r\n\t\t\t\t\t\"answerEditor\": qsmValueOrDefault( answerEditor, 'text' ),\r\n\t\t\t\t\t\"type\": qsmValueOrDefault( type , '0' ),\r\n\t\t\t\t\t\"name\": qsmDecodeHtml( qsmValueOrDefault( description ) ),\r\n\t\t\t\t\t\"question_title\": qsmValueOrDefault( title ),\r\n\t\t\t\t\t\"answerInfo\": qsmDecodeHtml( qsmValueOrDefault( correctAnswerInfo ) ),\r\n\t\t\t\t\t\"comments\": qsmValueOrDefault( commentBox, '1' ),\r\n\t\t\t\t\t\"hint\": qsmValueOrDefault( hint ),\r\n\t\t\t\t\t\"category\": qsmValueOrDefault( category ),\r\n\t\t\t\t\t\"multicategories\": [],\r\n\t\t\t\t\t\"required\": qsmValueOrDefault( required, 0 ),\r\n\t\t\t\t\t\"answers\": answers,\r\n\t\t\t\t\t\"page\": 0,\r\n\t\t\t\t\t\"featureImageID\": featureImageID,\r\n\t\t\t\t\t\"featureImageSrc\": featureImageSrc,\r\n\t\t\t\t\t\"matchAnswer\": null,\r\n\t\t\t\t} );\r\n\r\n\t\t\t\t//AJAX call\r\n\t\t\t\tapiFetch( {\r\n\t\t\t\t\tpath: '/quiz-survey-master/v1/questions',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: newQuestion\r\n\t\t\t\t} ).then( ( response ) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( 'success' == response.status ) {\r\n\t\t\t\t\t\tlet question_id = response.id;\r\n\t\t\t\t\t\tsetAttributes( { questionID: question_id } );\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(\r\n\t\t\t\t\t( error ) => {\r\n\t\t\t\t\t\tconsole.log( 'error',error );\r\n\t\t\t\t\t\tcreateNotice( 'error', error.message, {\r\n\t\t\t\t\t\t\tisDismissible: true,\r\n\t\t\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//cleanup\r\n\t\treturn () => {\r\n\t\t\tshouldSetID = false;\r\n\t\t};\r\n\t\t\r\n\t}, [] );\r\n\r\n\t//detect change in question\r\n\tuseEffect( () => {\r\n\t\tlet shouldSetChanged = true;\r\n\t\tif ( shouldSetChanged && isSelected  && false === isChanged ) {\r\n\t\t\t\r\n\t\t\tsetAttributes( { isChanged: true } );\r\n\t\t}\r\n\r\n\t\t//cleanup\r\n\t\treturn () => {\r\n\t\t\tshouldSetChanged = false;\r\n\t\t};\r\n\t}, [\r\n\t\tquestionID,\r\n\t\ttype,\r\n\t\tdescription,\r\n\t\ttitle,\r\n\t\tcorrectAnswerInfo,\r\n\t\tcommentBox,\r\n\t\tcategory,\r\n\t\tmulticategories,\r\n\t\thint,\r\n\t\tfeatureImageID,\r\n\t\tfeatureImageSrc,\r\n\t\tanswers,\r\n\t\tanswerEditor,\r\n\t\tmatchAnswer,\r\n\t\trequired,\r\n\t\tsettings,\r\n\t] )\r\n\r\n\t//add classes\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: isParentOfSelectedBlock ? ' in-editing-mode':'' ,\r\n\t} );\r\n\r\n\tconst QUESTION_TEMPLATE = [\r\n\t\t[\r\n\t\t\t'qsm/quiz-answer-option',\r\n\t\t\t{\r\n\t\t\t\toptionID:'0'\r\n\t\t\t}\r\n\t\t],\r\n\t\t[\r\n\t\t\t'qsm/quiz-answer-option',\r\n\t\t\t{\r\n\t\t\t\toptionID:'1'\r\n\t\t\t}\r\n\t\t]\r\n\r\n\t];\r\n\r\n\t//Get category ancestor\r\n\tconst getCategoryAncestors = ( termId, categories ) => {\r\n\t\tlet parents = [];\r\n\t\tif ( ! qsmIsEmpty( categories[ termId ] ) && '0' != categories[ termId ]['parent'] ) {\r\n\t\t\ttermId = categories[ termId ]['parent'];\r\n\t\t\tparents.push( termId );\r\n\t\t\tif ( ! qsmIsEmpty( categories[ termId ] ) && '0' != categories[ termId ]['parent'] ) {\r\n\t\t\t\tlet ancestor = getCategoryAncestors( termId, categories );\r\n\t\t\t\tparents = [ ...parents, ...ancestor ];\r\n\t\t\t}\r\n\t\t} \r\n\t\t\r\n\t\treturn qsmUniqueArray( parents );\r\n\t }\r\n\r\n\t//check if a category is selected\r\n\tconst isCategorySelected = ( termId ) =>  multicategories.includes( termId );\r\n\r\n\t//set or unset category\r\n\tconst setUnsetCatgory = ( termId, categories ) => {\r\n\t\tlet multiCat = ( qsmIsEmpty( multicategories ) || 0 === multicategories.length ) ? ( qsmIsEmpty( category ) ? [] : [ category ] ) : multicategories;\r\n\t\t\r\n\t\t//Case: category unselected\r\n\t\tif ( multiCat.includes( termId ) ) {\r\n\t\t\t//remove category if already set\r\n\t\t\tmultiCat = multiCat.filter( catID =>  catID != termId );\r\n\t\t\tlet children = [];\r\n\t\t\t//check for if any child is selcted \r\n\t\t\tmultiCat.forEach( childCatID => {\r\n\t\t\t\t//get ancestors of category\r\n\t\t\t\tlet ancestorIds = getCategoryAncestors( childCatID, categories );\r\n\t\t\t\t//given unselected category is an ancestor of selected category\r\n\t\t\t\tif ( ancestorIds.includes( termId ) ) {\r\n\t\t\t\t\t//remove category if already set\r\n\t\t\t\t\tmultiCat = multiCat.filter( catID =>  catID != childCatID );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t//add category if not set\r\n\t\t\tmultiCat.push( termId );\r\n\t\t\t//get ancestors of category\r\n\t\t\tlet ancestorIds = getCategoryAncestors( termId, categories );\r\n\t\t\t//select all ancestor\r\n\t\t\tmultiCat = [ ...multiCat, ...ancestorIds ];\r\n\t\t}\r\n\r\n\t\tmultiCat = qsmUniqueArray( multiCat );\r\n\r\n\t\tsetAttributes({ \r\n\t\t\tcategory: '',\r\n\t\t\tmulticategories: [ ...multiCat ]\r\n\t\t});\r\n\t}\r\n\r\n\t//Notes relation to question type\r\n\tconst notes = ['12','7','3','5','14'].includes( type ) ? __( 'Note: Add only correct answer options with their respective points score.', 'quiz-master-next' ) : '';\r\n\r\n\t//set Question type\r\n\tconst setQuestionType = ( qtype ) => {\r\n\t\tif ( ! qsmIsEmpty( MicroModal ) && ! proActivated && ['15', '16', '17'].includes( qtype ) ) {\r\n\t\t\t//Show modal for advance question type\r\n\t\t\tlet modalEl = document.getElementById('modal-advanced-question-type');\r\n\t\t\tif ( ! qsmIsEmpty( modalEl ) ) {\r\n\t\t\t\tMicroModal.show('modal-advanced-question-type');\r\n\t\t\t}\r\n\t\t} else if ( proActivated && isAdvanceQuestionType( qtype ) ) {\r\n\t\t\tsetIsOpenAdvanceQModal( true );\r\n\t\t} else {\r\n\t\t\tsetAttributes( { type: qtype } );\r\n\t\t}\r\n\t}\r\n\r\n\t//insert new Question\r\n\tconst insertNewQuestion = () => {\r\n\t\tif ( qsmIsEmpty( props?.name )) {\r\n\t\t\tconsole.log(\"block name not found\");\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tconst blockToInsert = createBlock( props.name );\r\n\t\r\n\t\tconst selectBlockOnInsert = true;\r\n\t\tinsertBlock(\r\n\t\t\tblockToInsert,\r\n\t\t\tgetBlockIndex( clientId ) + 1,\r\n\t\t\tgetBlockRootClientId( clientId ),\r\n\t\t\tselectBlockOnInsert\r\n\t\t);\r\n\t}\r\n\r\n\t//insert new Question\r\n\tconst insertNewPage = () => {\r\n\t\tconst blockToInsert = createBlock( 'qsm/quiz-page' );\r\n\t\tconst currentPageClientID = getBlockRootClientId( clientId );\r\n\t\tconst newPageIndex = getBlockIndex( currentPageClientID ) + 1;\r\n\t\tconst qsmBlockClientID = getBlockRootClientId( currentPageClientID );\r\n\t\tconst selectBlockOnInsert = true;\r\n\t\tinsertBlock(\r\n\t\t\tblockToInsert,\r\n\t\t\tnewPageIndex,\r\n\t\t\tqsmBlockClientID,\r\n\t\t\tselectBlockOnInsert\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t<>\r\n\t\t<BlockControls>\r\n\t\t\t<ToolbarGroup>\r\n\t\t\t\t<ToolbarButton\r\n\t\t\t\t\ticon='plus-alt2'\r\n\t\t\t\t\tlabel={ __( 'Add New Question', 'quiz-master-next' ) }\r\n\t\t\t\t\tonClick={ () => insertNewQuestion() }\r\n\t\t\t\t/>\r\n\t\t\t\t<ToolbarButton\r\n\t\t\t\t\ticon='welcome-add-page'\r\n\t\t\t\t\tlabel={ __( 'Add New Page', 'quiz-master-next' ) }\r\n\t\t\t\t\tonClick={ () => insertNewPage() }\r\n\t\t\t\t/>\r\n\t\t\t</ToolbarGroup>\r\n\t\t</BlockControls>\r\n\t{ isOpenAdvanceQModal && (\r\n\t\t<Modal \r\n\t\tcontentLabel={ __( 'Use QSM Editor for Advanced Question', 'quiz-master-next' ) }\r\n\t\tclassName='qsm-advance-q-modal'\r\n\t\tisDismissible={ false }\r\n\t\tsize='small'\r\n\t\t__experimentalHideHeader={ true }\r\n\t\t>\r\n\t\t\t<div className='qsm-modal-body' >\r\n\t\t\t\t<h3 className='qsm-title'>\r\n\t\t\t\t\t{ warningIcon() }\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{ __( 'Use QSM editor for Advanced Question', 'quiz-master-next' ) }\r\n\t\t\t\t</h3>\r\n\t\t\t\t<p className='qsm-description'>\r\n\t\t\t\t\t{ __( \"Currently, the block editor doesn't support advanced question type. We are working on it. Alternatively, you can add advanced questions from your QSM's quiz editor.\", \"quiz-master-next\" ) }\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className='qsm-modal-btn-wrapper'>\r\n\t\t\t\t\t<Button variant=\"secondary\" onClick={ () => setIsOpenAdvanceQModal( false ) }>\r\n\t\t\t\t\t\t{ __( 'Cancel', 'quiz-master-next' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button variant=\"primary\" onClick={ () => {} }>\r\n\t\t\t\t\t\t<ExternalLink \r\n\t\t\t\t\t\t\thref={ qsmBlockData.quiz_settings_url+'&quiz_id='+quizID }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Add Question from quiz editor', 'quiz-master-next' ) }\r\n\t\t\t\t\t\t</ExternalLink>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</Modal>\r\n\t) }\r\n\t { isAdvanceQuestionType( type ) ? (\r\n\t\t<>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={ __( 'Question settings', 'quiz-master-next' ) } initialOpen={ true }>\r\n\t\t\t\t\t<h2 className=\"block-editor-block-card__title\">{ __( 'ID', 'quiz-master-next' )+': '+questionID }</h2>\r\n\t\t\t\t\t<h3>{ __( 'Advanced Question Type', 'quiz-master-next' ) }</h3>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\t\r\n\t\t\t<div  { ...blockProps } >\r\n\t\t\t<h4 className={ 'qsm-question-title qsm-error-text' } >{ __( 'Advanced Question Type : ', 'quiz-master-next' ) + title }</h4>\r\n\t\t\t<p> \r\n\t\t\t{ __( 'Edit question in QSM ', 'quiz-master-next' ) }\r\n\t\t\t<ExternalLink \r\n\t\t\t\thref={ qsmBlockData.quiz_settings_url+'&quiz_id='+quizID }\r\n\t\t\t>\r\n\t\t\t\t\t{ __( 'editor', 'quiz-master-next' ) }\r\n\t\t\t</ExternalLink>\r\n\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t\t):(\r\n\t\t<>\r\n\t\t<InspectorControls>\r\n\t\t\t<PanelBody title={ __( 'Question settings', 'quiz-master-next' ) } initialOpen={ true }>\r\n\t\t\t<h2 className=\"block-editor-block-card__title\">{ __( 'ID', 'quiz-master-next' )+': '+questionID }</h2>\r\n\t\t\t{ /** Question Type **/ }\r\n\t\t\t<SelectControl\r\n\t\t\t\tlabel={ qsmBlockData.question_type.label }\r\n\t\t\t\tvalue={ type || qsmBlockData.question_type.default }\r\n\t\t\t\tonChange={ ( type ) =>\r\n\t\t\t\t\tsetQuestionType( type )\r\n\t\t\t\t}\r\n\t\t\t\thelp={ qsmIsEmpty( qsmBlockData.question_type_description[ type ] ) ? '' : qsmBlockData.question_type_description[ type ]+' '+notes }\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t! qsmIsEmpty( qsmBlockData.question_type.options ) && qsmBlockData.question_type.options.map( qtypes => \r\n\t\t\t\t\t(\r\n\t\t\t\t\t<optgroup label={ qtypes.category } key={ \"qtypes\"+qtypes.category }  >\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tqtypes.types.map( qtype => \r\n\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t<option value={ qtype.slug } key={ \"qtype\"+qtype.slug }  >{ qtype.name }</option>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</optgroup>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</SelectControl>\r\n\t\t\t{/**Answer Type */}\r\n\t\t\t{\r\n\t\t\t\t['0','4','1','10','13'].includes( type ) && \r\n\t\t\t\t<SelectControl\r\n\t\t\t\t\tlabel={ qsmBlockData.answerEditor.label }\r\n\t\t\t\t\tvalue={ answerEditor || qsmBlockData.answerEditor.default }\r\n\t\t\t\t\toptions={ qsmBlockData.answerEditor.options }\r\n\t\t\t\t\tonChange={ ( answerEditor ) =>\r\n\t\t\t\t\t\tsetAttributes( { answerEditor } )\r\n\t\t\t\t\t}\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t\t<ToggleControl\r\n\t\t\t\tlabel={ __( 'Required', 'quiz-master-next' ) }\r\n\t\t\t\tchecked={ ! qsmIsEmpty( required ) && '1' == required  }\r\n\t\t\t\tonChange={ () => setAttributes( { required : ( ( ! qsmIsEmpty( required ) && '1' == required ) ? 0 : 1 ) } ) }\r\n\t\t\t/>\r\n\t\t\t<ToggleControl\r\n\t\t\t\tlabel={ __( 'Show Correct Answer Info', 'quiz-master-next' ) }\r\n\t\t\t\tchecked={ enableCorrectAnsInfo  }\r\n\t\t\t\tonChange={ () => setEnableCorrectAnsInfo( ! enableCorrectAnsInfo ) }\r\n\t\t\t/>\r\n\t\t\t</PanelBody>\r\n\t\t\t{/**File Upload */}\r\n\t\t\t{ '11' == type && (\r\n\t\t\t\t<PanelBody title={ __( 'File Settings', 'quiz-master-next' ) } initialOpen={ false }>\r\n\t\t\t\t{/**Upload Limit */}\r\n\t\t\t\t<TextControl\r\n\t\t\t\t\ttype='number'\r\n\t\t\t\t\tlabel={ qsmBlockData.file_upload_limit.heading  }\r\n\t\t\t\t\tvalue={ settings?.file_upload_limit ?? qsmBlockData.file_upload_limit.default }\r\n\t\t\t\t\tonChange={ ( limit ) => setAttributes( { settings:{\r\n\t\t\t\t\t\t...settings,\r\n\t\t\t\t\t\tfile_upload_limit: limit\r\n\t\t\t\t\t} } ) }\r\n\t\t\t\t/>\r\n\t\t\t\t{/**Allowed File Type */}\r\n\t\t\t\t<label className=\"qsm-inspector-label\">\r\n\t\t\t\t\t{ qsmBlockData.file_upload_type.heading }\r\n\t\t\t\t</label>\r\n\t\t\t\t{\r\n\t\t\t\t\tObject.keys( qsmBlockData.file_upload_type.options ).map( filetype => (\r\n\t\t\t\t\t\t<CheckboxControl\r\n\t\t\t\t\t\t\tkey={ 'filetype-'+filetype }\r\n\t\t\t\t\t\t\tlabel={  fileTypes[filetype] }\r\n\t\t\t\t\t\t\tchecked={ isCheckedFileType( filetype ) }\r\n\t\t\t\t\t\t\tonChange={ () => setFileTypes( filetype ) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) )\r\n\t\t\t\t}\r\n\t\t\t\t</PanelBody>\r\n\t\t\t)}\r\n\t\t\t{/**Categories */}\r\n\t\t\t<SelectAddCategory \r\n\t\t\t\tisCategorySelected={ isCategorySelected }\r\n\t\t\t\tsetUnsetCatgory={ setUnsetCatgory }\r\n\t\t\t/>\r\n\t\t\t{/**Hint */}\r\n\t\t\t<PanelBody title={ __( 'Hint', 'quiz-master-next' ) } initialOpen={ false }  >\r\n\t\t\t<TextControl\r\n\t\t\t\tlabel=''\r\n\t\t\t\tvalue={ hint }\r\n\t\t\t\tonChange={ ( hint ) => setAttributes( { hint: qsmStripTags( hint ) } ) }\r\n\t\t\t/>\r\n\t\t\t</PanelBody>\r\n\t\t\t{/**Comment Box */}\r\n\t\t\t<PanelBody title={ qsmBlockData.commentBox.heading } initialOpen={ false } >\r\n\t\t\t<SelectControl\r\n\t\t\t\tlabel={ qsmBlockData.commentBox.label }\r\n\t\t\t\tvalue={ commentBox || qsmBlockData.commentBox.default }\r\n\t\t\t\toptions={ qsmBlockData.commentBox.options }\r\n\t\t\t\tonChange={ ( commentBox ) =>\r\n\t\t\t\t\tsetAttributes( { commentBox } )\r\n\t\t\t\t}\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t/>\r\n\t\t\t</PanelBody>\r\n\t\t\t{/**Feature Image */}\r\n\t\t\t<PanelBody title={ __( 'Featured image', 'quiz-master-next' ) } initialOpen={ true }>\r\n\t\t\t\t<FeaturedImage \r\n\t\t\t\tfeatureImageID={ featureImageID }\r\n\t\t\t\tonUpdateImage={ ( mediaDetails ) => {\r\n\t\t\t\t\tsetAttributes({ \r\n\t\t\t\t\t\tfeatureImageID: mediaDetails.id,\r\n\t\t\t\t\t\tfeatureImageSrc: mediaDetails.url\r\n\t\t\t\t\t});\r\n\t\t\t\t}  }\r\n\t\t\t\tonRemoveImage={ ( id ) => {\r\n\t\t\t\t\tsetAttributes({ \r\n\t\t\t\t\t\tfeatureImageID: undefined,\r\n\t\t\t\t\t\tfeatureImageSrc: undefined,\r\n\t\t\t\t\t});\r\n\t\t\t\t}  }\r\n\t\t\t\t/>\r\n\t\t\t</PanelBody>\r\n\t\t</InspectorControls>\r\n\t\t<div  { ...blockProps } >\r\n\t\t\t<RichText\r\n\t\t\t\ttagName='h4'\r\n\t\t\t\ttitle={ __( 'Question title', 'quiz-master-next' ) }\r\n\t\t\t\taria-label={ __( 'Question title', 'quiz-master-next' ) }\r\n\t\t\t\tplaceholder={  __( 'Type your question here', 'quiz-master-next' ) }\r\n\t\t\t\tvalue={ title }\r\n\t\t\t\tonChange={ ( title ) => setAttributes( { title: qsmStripTags( title ) } ) }\r\n\t\t\t\tallowedFormats={ [ ] }\r\n\t\t\t\twithoutInteractiveFormatting\r\n\t\t\t\tclassName={ 'qsm-question-title' }\r\n\t\t\t/>\r\n\t\t\t{\r\n\t\t\t\tisParentOfSelectedBlock && \r\n\t\t\t\t<>\r\n\t\t\t\t<RichText\r\n\t\t\t\t\ttagName='p'\r\n\t\t\t\t\ttitle={ __( 'Question description', 'quiz-master-next' ) }\r\n\t\t\t\t\taria-label={ __( 'Question description', 'quiz-master-next' ) }\r\n\t\t\t\t\tplaceholder={  __( 'Description goes here... (optional)', 'quiz-master-next' ) }\r\n\t\t\t\t\tvalue={ qsmDecodeHtml( description ) }\r\n\t\t\t\t\tonChange={ ( description ) => setAttributes({ description }) }\r\n\t\t\t\t\tclassName={ 'qsm-question-description' }\r\n\t\t\t\t\t__unstableEmbedURLOnPaste\r\n\t\t\t\t\t__unstableAllowPrefixTransformations\r\n\t\t\t\t/>\r\n\t\t\t\t{\r\n\t\t\t\t\t! ['8','11','6','9'].includes( type ) &&\r\n\t\t\t\t\t<InnerBlocks\r\n\t\t\t\t\t\tallowedBlocks={ ['qsm/quiz-answer-option'] }\r\n\t\t\t\t\t\ttemplate={ QUESTION_TEMPLATE }\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tenableCorrectAnsInfo && (\r\n\t\t\t\t\t\t<RichText\r\n\t\t\t\t\t\t\ttagName='p'\r\n\t\t\t\t\t\t\ttitle={ __( 'Correct Answer Info', 'quiz-master-next' ) }\r\n\t\t\t\t\t\t\taria-label={ __( 'Correct Answer Info', 'quiz-master-next' ) }\r\n\t\t\t\t\t\t\tplaceholder={  __( 'Correct answer info goes here', 'quiz-master-next' ) }\r\n\t\t\t\t\t\t\tvalue={ qsmDecodeHtml( correctAnswerInfo ) }\r\n\t\t\t\t\t\t\tonChange={ ( correctAnswerInfo ) => setAttributes({ correctAnswerInfo }) }\r\n\t\t\t\t\t\t\tclassName={ 'qsm-question-correct-answer-info' }\r\n\t\t\t\t\t\t\t__unstableEmbedURLOnPaste\r\n\t\t\t\t\t\t\t__unstableAllowPrefixTransformations\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t<Button \r\n\t\t\t\t\ticon='plus-alt2'\r\n\t\t\t\t\tonClick={ () => insertNewQuestion() }\r\n\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\tclassName='add-new-question-btn'\r\n\t\t\t\t>\r\n\t\t\t\t\t{ __( 'Add New Question', 'quiz-master-next' ) }\r\n\t\t\t\t</Button>\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t</div>\r\n\t\t</>\r\n\t\t)\r\n\t}\r\n\t</>\r\n\t);\r\n}\r\n","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blob\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\r\nimport Edit from './edit';\r\nimport metadata from './block.json';\r\nimport { questionBlockIcon } from \"../component/icon\";\r\n\r\nregisterBlockType( metadata.name, {\r\n\ticon:questionBlockIcon,\r\n\t/**\r\n\t * @see ./edit.js\r\n\t */\r\n\tedit: Edit,\r\n\t__experimentalLabel( attributes, { context } ) {\r\n\t\tconst { title } = attributes;\r\n\r\n\t\tconst customName = attributes?.metadata?.name;\r\n\t\tconst hasContent = title?.length > 0;\r\n\r\n\t\t// In the list view, use the question title as the label.\r\n\t\t// If the title is empty, fall back to the default label.\r\n\t\tif ( context === 'list-view' && ( customName || hasContent ) ) {\r\n\t\t\treturn customName || title;\r\n\t\t}\r\n\t},\r\n} );\r\n"],"names":["__","sprintf","applyFilters","DropZone","Button","Spinner","ResponsiveWrapper","withNotices","withFilters","__experimentalHStack","HStack","isBlobURL","useState","useRef","useEffect","store","noticesStore","useDispatch","useSelect","select","withDispatch","withSelect","MediaUpload","MediaUploadCheck","blockEditorStore","coreStore","qsmIsEmpty","ALLOWED_MEDIA_TYPES","DEFAULT_FEATURE_IMAGE_LABEL","DEFAULT_SET_FEATURE_IMAGE_LABEL","instructions","createElement","FeaturedImage","featureImageID","onUpdateImage","onRemoveImage","createNotice","toggleRef","isLoading","setIsLoading","media","setMedia","undefined","mediaFeature","mediaUpload","getMedia","getSettings","shouldSetQSMAttr","id","width","media_details","height","url","source_url","alt_text","slug","onDropFiles","filesList","allowedTypes","onFileChange","image","onError","message","isDismissible","type","className","fallback","title","onSelect","unstableFeaturedImageFlow","modalClass","render","open","ref","onClick","naturalWidth","naturalHeight","isInline","src","alt","current","focus","onFilesDrop","value","apiFetch","PanelBody","TreeSelect","TextControl","ToggleControl","RangeControl","RadioControl","SelectControl","CheckboxControl","Flex","FlexItem","qsmFormData","SelectAddCategory","isCategorySelected","setUnsetCatgory","showForm","setShowForm","formCatName","setFormCatName","formCatParent","setFormCatParent","addingNewCategory","setAddingNewCategory","newCategoryError","setNewCategoryError","categories","setCategories","qsmBlockData","hierarchicalCategoryList","getCategoryIdDetailsObject","catObj","forEach","cat","children","length","childCategory","categoryIdDetails","setCategoryIdDetails","addNewCategoryLabel","noParentOption","onAddCategory","event","preventDefault","ajax_url","method","body","then","res","term_id","path","status","result","term","getCategoryNameArray","cats","push","name","checkSetNewCategory","catName","console","log","includes","renderTerms","map","key","label","checked","onChange","initialOpen","tabIndex","role","variant","onSubmit","direction","gap","__nextHasNoMarginBottom","required","noOptionLabel","selectedId","tree","disabled","Icon","qsmBlockIcon","icon","viewBox","fill","xmlns","rx","d","questionBlockIcon","x","y","answerOptionBlockIcon","warningIcon","stroke","strokeWidth","strokeLinecap","strokeLinejoin","data","qsmUniqueArray","arr","Array","isArray","filter","val","index","indexOf","qsmMatchingValueKeyArray","values","obj","Object","keys","find","qsmDecodeHtml","html","txt","document","innerHTML","qsmSanitizeName","toLowerCase","replace","qsmStripTags","text","div","innerText","newData","FormData","append","k","hasOwnProperty","qsmAddObjToFormData","formKey","valueObj","qsmGenerateRandomKey","charset","Uint8Array","window","crypto","getRandomValues","i","qsmUniqid","prefix","random","qsmValueOrDefault","defaultValue","InspectorControls","RichText","InnerBlocks","useBlockProps","BlockControls","createBlock","ToolbarGroup","ToolbarButton","FormTokenField","ExternalLink","Modal","isQuestionIDReserved","questionIDCheck","clientIdCheck","blocksClientIds","getClientIdsWithDescendants","some","blockClientId","questionID","getBlockAttributes","Edit","props","_settings$file_upload","attributes","setAttributes","isSelected","clientId","context","isParentOfSelectedBlock","hasSelectedInnerBlock","quizID","quiz_name","post_id","rest_nonce","pageID","getBlockRootClientId","getBlockIndex","insertBlock","isChanged","description","correctAnswerInfo","commentBox","category","multicategories","hint","featureImageSrc","answers","answerEditor","matchAnswer","settings","enableCorrectAnsInfo","setEnableCorrectAnsInfo","isOpenAdvanceQModal","setIsOpenAdvanceQModal","proActivated","is_pro_activated","isAdvanceQuestionType","qtype","parseInt","fileTypes","file_upload_type","options","selectedFileTypes","file_types","default","split","isCheckedFileType","fileType","setFileTypes","file_type","join","shouldSetID","newQuestion","response","question_id","catch","error","shouldSetChanged","blockProps","QUESTION_TEMPLATE","optionID","getCategoryAncestors","termId","parents","ancestor","multiCat","catID","childCatID","ancestorIds","notes","setQuestionType","MicroModal","modalEl","getElementById","show","insertNewQuestion","blockToInsert","selectBlockOnInsert","insertNewPage","currentPageClientID","newPageIndex","qsmBlockClientID","Fragment","contentLabel","size","__experimentalHideHeader","href","quiz_settings_url","question_type","help","question_type_description","qtypes","types","file_upload_limit","heading","limit","filetype","mediaDetails","tagName","placeholder","allowedFormats","withoutInteractiveFormatting","__unstableEmbedURLOnPaste","__unstableAllowPrefixTransformations","allowedBlocks","template","registerBlockType","metadata","edit","__experimentalLabel","customName","hasContent"],"sourceRoot":""}