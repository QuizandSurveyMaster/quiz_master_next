{"version":3,"file":"answer-option/index.js","mappings":"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","sources":["webpack://qsm/./src/answer-option/edit.js","webpack://qsm/./src/helper.js","webpack://qsm/external window [\"wp\",\"apiFetch\"]","webpack://qsm/external window [\"wp\",\"blockEditor\"]","webpack://qsm/external window [\"wp\",\"blocks\"]","webpack://qsm/external window [\"wp\",\"components\"]","webpack://qsm/external window [\"wp\",\"coreData\"]","webpack://qsm/external window [\"wp\",\"data\"]","webpack://qsm/external window [\"wp\",\"editor\"]","webpack://qsm/external window [\"wp\",\"element\"]","webpack://qsm/external window [\"wp\",\"i18n\"]","webpack://qsm/webpack/bootstrap","webpack://qsm/webpack/runtime/compat get default export","webpack://qsm/webpack/runtime/define property getters","webpack://qsm/webpack/runtime/hasOwnProperty shorthand","webpack://qsm/webpack/runtime/make namespace object","webpack://qsm/./src/answer-option/index.js"],"sourcesContent":["import { __ } from '@wordpress/i18n';\nimport { useState, useEffect } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport {\n\tInspectorControls,\n\tRichText,\n\tInnerBlocks,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tPanelBody,\n\tPanelRow,\n\tTextControl,\n\tToggleControl,\n\tRangeControl,\n\tRadioControl,\n\tSelectControl,\n} from '@wordpress/components';\nimport { createBlock } from '@wordpress/blocks';\nimport { qsmIsEmpty, qsmStripTags } from '../helper';\nexport default function Edit( props ) {\n\t\n\t//check for QSM initialize data\n\tif ( 'undefined' === typeof qsmBlockData ) {\n\t\treturn null;\n\t}\n\n\tconst { className, attributes, setAttributes, isSelected, clientId, context, mergeBlocks, onReplace,\nonRemove } = props;\n\n\tconst quizID = context['quiz-master-next/quizID'];\n\tconst pageID = context['quiz-master-next/pageID'];\n\tconst questionID = context['quiz-master-next/questionID'];\n\tconst name = 'qsm/quiz-answer-option';\n\tconst {\n\t\toptionID,\n\t\tcontent,\n\t\tpoints,\n\t\tisCorrect\n\t} = attributes;\n\n\t/**Initialize block from server */\n\tuseEffect( () => {\n\t\tlet shouldSetQSMAttr = true;\n\t\tif ( shouldSetQSMAttr ) {\n\n\t\t\t\n\t\t}\n\t\t\n\t\t//cleanup\n\t\treturn () => {\n\t\t\tshouldSetQSMAttr = false;\n\t\t};\n\t\t\n\t}, [ quizID ] );\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: '',\n\t} );\n\n\t//Decode htmlspecialchars\n\tconst decodeHtml = (html) => {\n\t\tvar txt = document.createElement(\"textarea\");\n\t\ttxt.innerHTML = html;\n\t\treturn txt.value;\n\t}\n\t\n\treturn (\n\t<>\n\t<InspectorControls>\n\t\t<PanelBody title={ __( 'Settings', 'quiz-master-next' ) } initialOpen={ true }>\n\t\t\t<TextControl\n\t\t\t\ttype='number'\n\t\t\t\tlabel={ __( 'Points', 'quiz-master-next' ) }\n\t\t\t\thelp={ __( 'Answer points', 'quiz-master-next' ) }\n\t\t\t\tvalue={ points }\n\t\t\t\tonChange={ ( points ) => setAttributes( { points } ) }\n\t\t\t/>\n\t\t\t<ToggleControl\n\t\t\t\tlabel={ __( 'Correct', 'quiz-master-next' ) }\n\t\t\t\tchecked={ ! qsmIsEmpty( isCorrect ) && '1' == isCorrect  }\n\t\t\t\tonChange={ () => setAttributes( { isCorrect : ( ( ! qsmIsEmpty( isCorrect ) && '1' == isCorrect ) ? 0 : 1 ) } ) }\n\t\t\t/>\n\t\t</PanelBody>\n\t</InspectorControls>\n\t<div  { ...blockProps } >\n\t\t<RichText\n\t\t\ttagName='p'\n\t\t\ttitle={ __( 'Answer options', 'quiz-master-next' ) }\n\t\t\taria-label={ __( 'Question answer', 'quiz-master-next' ) }\n\t\t\tplaceholder={  __( 'Your Answer', 'quiz-master-next' ) }\n\t\t\tvalue={ content }\n\t\t\tonChange={ ( content ) => setAttributes( { content: qsmStripTags( content ) } ) }\n\t\t\tonSplit={ ( value, isOriginal ) => {\n\t\t\t\tlet newAttributes;\n\n\t\t\t\tif ( isOriginal || value ) {\n\t\t\t\t\tnewAttributes = {\n\t\t\t\t\t\t...attributes,\n\t\t\t\t\t\tcontent: value,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tconst block = createBlock( name, newAttributes );\n\n\t\t\t\tif ( isOriginal ) {\n\t\t\t\t\tblock.clientId = clientId;\n\t\t\t\t}\n\n\t\t\t\treturn block;\n\t\t\t} }\n\t\t\tonMerge={ mergeBlocks }\n\t\t\tonReplace={ onReplace }\n\t\t\tonRemove={ onRemove }\n\t\t\tallowedFormats={ [ ] }\n\t\t\twithoutInteractiveFormatting\n\t\t\tclassName={ 'qsm-question-answer-option' }\n\t\t\tidentifier='text'\n\t\t/>\n\t</div>\n\t</>\n\t);\n}\n","//Check if undefined, null, empty\nexport const qsmIsEmpty = ( data ) => ( 'undefined' === typeof data || null === data || '' === data );\n\nexport const qsmSanitizeName = ( name ) => {\n\tif ( qsmIsEmpty( name ) ) {\n\t\tname = '';\n\t} else {\n\t\tname = name.toLowerCase().replace( / /g, '_' );\n\t\tname = name.replace(/\\W/g, '');\n\t}\n\t\n\treturn name;\n}\n\n// Remove anchor tags from button text content.\nexport const qsmStripTags = ( text ) => text.replace( /<\\/?a[^>]*>/g, '' );\n\n//prepare form data\nexport const qsmFormData = ( obj = false ) => {\n\tlet newData = new FormData();\n\tnewData.append('qsm_block_api_call', '1');\n\tif ( false !== obj ) {\n\t\tfor ( let k in obj ) {\n\t\t\tif ( obj.hasOwnProperty( k ) ) {\n\t\t\t   newData.append( k, obj[k] );\n\t\t\t}\n\t\t}\n\t}\n\treturn newData;\n}\n\nexport const qsmUniqid = (prefix = \"\", random = false) => {\n    const sec = Date.now() * 1000 + Math.random() * 1000;\n    const id = sec.toString(16).replace(/\\./g, \"\").padEnd(8, \"0\");\n    return `${prefix}${id}${random ? `.${Math.trunc(Math.random() * 100000000)}`:\"\"}`;\n};","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editor\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport Edit from './edit';\nimport metadata from './block.json';\n\nregisterBlockType( metadata.name, {\n\tmerge( attributes, attributesToMerge ) {\n\t\treturn {\n\t\t\tcontent:\n\t\t\t\t( attributes.content || '' ) +\n\t\t\t\t( attributesToMerge.content || '' ),\n\t\t};\n\t},\n\tedit: Edit,\n} );\n"],"names":["__","useState","useEffect","apiFetch","InspectorControls","RichText","InnerBlocks","useBlockProps","store","editorStore","coreStore","useDispatch","useSelect","PanelBody","PanelRow","TextControl","ToggleControl","RangeControl","RadioControl","SelectControl","createBlock","qsmIsEmpty","qsmStripTags","Edit","props","qsmBlockData","className","attributes","setAttributes","isSelected","clientId","context","mergeBlocks","onReplace","onRemove","quizID","pageID","questionID","name","optionID","content","points","isCorrect","shouldSetQSMAttr","blockProps","decodeHtml","html","txt","document","createElement","innerHTML","value","Fragment","title","initialOpen","type","label","help","onChange","checked","tagName","placeholder","onSplit","isOriginal","newAttributes","block","onMerge","allowedFormats","withoutInteractiveFormatting","identifier","data","qsmSanitizeName","toLowerCase","replace","text","qsmFormData","obj","newData","FormData","append","k","hasOwnProperty","qsmUniqid","prefix","random","sec","Date","now","Math","id","toString","padEnd","trunc","registerBlockType","metadata","merge","attributesToMerge","edit"],"sourceRoot":""}